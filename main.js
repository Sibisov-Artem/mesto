(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},e=document.querySelector(".page").querySelector(".content").querySelector(".profile"),n=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),r=(e.querySelector(".profile__name"),e.querySelector(".profile__description"),e.querySelector(".profile__edit-btn")),o=(n.querySelector(".popup__form_profile"),n.querySelector(".popup__input_el_name")),i=n.querySelector(".popup__input_el_description"),u=document.querySelector(".popup_mesto"),c=e.querySelector(".profile__add-btn"),a=document.querySelector(".place__grid"),l=(document.querySelector(".popup__form_mesto"),document.querySelector(".popup__input_el_mesto-title"),document.querySelector(".popup__input_el_mesto-url"),document.querySelector(".popup_avatar")),s=document.querySelector(".profile__avatar-wrapper");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function y(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e,n,r,o,i,u,c){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"_checkWastebasketButton",(function(){a._userId!==a._ownerId&&a._wastebasketButton.remove()})),y(this,"_setEventListeners",(function(){a._wastebasketButton.addEventListener("click",(function(){a._openConfirmationRemove(a._cardId,a)})),a._likeButton=a._element.querySelector(".place__like-btn"),a._likeButton.addEventListener("click",(function(){a._likes.some((function(t){return t._id===a._userId}))?(a._deleteLikeCard(a._cardId),a._likeButton.classList.remove("place__like-btn_active")):(a._likeCard(a._cardId),a._likeButton.classList.add("place__like-btn_active"))})),a._cardImage.addEventListener("click",(function(){a._openPreviewPopup(a._name,a._link)}))})),this._name=e.name,this._link=e.link,this._likes=e.likes,this._likeCard=u,this._deleteLikeCard=c,this._ownerId=e.owner._id,this._cardId=e._id,this._templateSelector=n,this._openPreviewPopup=r,this._openConfirmationRemove=i,this._userId=o,this._element=this._getTemplate(),this._wastebasketButton=this._element.querySelector(".place__wastebasket-btn")}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place__card").cloneNode(!0)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"likeClickCount",value:function(t){this._likes=t.likes,this._likeCount.textContent=this._likes.length}},{key:"createCard",value:function(){return this._element.querySelector(".place__title").textContent=this._name,this._cardImage=this._element.querySelector(".place__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount=this._element.querySelector(".place__like-count"),this._likeCount.textContent=this._likes.length,this._checkWastebasketButton(),this._setEventListeners(),this._element}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function b(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===h(e)?e:String(e)}var S=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e,n.classList.add(r._errorClass)})),b(this,"_hideInputError",(function(t){var e=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(r._inputErrorClass),e.classList.remove(r._errorClass),e.textContent=""})),b(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._disabledSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled","true"))})),b(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners(),r._disabledSubmitButton()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._disabledSubmitButton(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_disabledSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var k=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._popupCloseButton=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closeOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupCloseButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("mousedown",this._closeOverlay.bind(this))}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._previewImage=e._popup.querySelector(".popup__image"),e._imageCaption=e._popup.querySelector(".popup__image-caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._previewImage.src=e,this._previewImage.alt=t,this._imageCaption.textContent=t,L(q(u.prototype),"open",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submitButton=n._form.querySelector(".popup__submit-btn"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){A(V(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=!0===t?"Сохранение...":"Сохранить"}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},J.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(r);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._form=n._popup.querySelector(".popup__form"),n._handleSubmitRemove=e,n}return e=u,(n=[{key:"open",value:function(t,e){J(H(u.prototype),"open",this).call(this),this._element=t,this._cardId=e}},{key:"setEventListeners",value:function(){var t=this;J(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitRemove(t._element,t._cardId),t.close()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}var $=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userInfo=document.querySelector(n),this._userAvatar=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,info:this._userInfo.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userInfo.textContent=t.about,this._userAvatar.src=t.avatar}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===G(o)?o:String(o)),r)}var o}var Q=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.baseUrl,this.headers=e.headers}var e,n;return e=t,(n=[{key:"getUser",value:function(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"editUser",value:function(t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t.name,about:t.info})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addNewCard",value:function(t){return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"likeCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteLikeCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"changeAvatar",value:function(t){return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t.avatar})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{authorization:"a15016d5-ae9c-4339-845d-3268b7fcaab2","Content-Type":"application/json"}});function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=null;Promise.all([Q.getUser(),Q.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];tt.setUserInfo(o),Y=o._id,i.forEach((function(t){ct.addItem(ut(t))}))})).catch((function(t){console.log(t)}));var Z=new U(".popup_profile",(function(t){Z.renderLoading(!0),Q.editUser(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return Z.renderLoading(!1)}))}));Z.setEventListeners();var tt=new $(".profile__name",".profile__description",".profile__avatar"),et=new U(".popup_mesto",(function(t){et.renderLoading(!0),Q.addNewCard(t).then((function(t){ct.addItem(ut(t))})).catch((function(t){console.log(t)})).finally((function(){return et.renderLoading(!1)}))}));et.setEventListeners();var nt=new U(".popup_avatar",(function(t){nt.renderLoading(!0),Q.changeAvatar(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return nt.renderLoading(!1)}))}));nt.setEventListeners();var rt=new M(".popup_confirmation-remove",(function(t,e){Q.deleteCard(e,t).then((function(){t.deleteCard()})).catch((function(t){console.log(t)}))}));rt.setEventListeners();var ot=new T(".popup_view");function it(t,e){ot.open(t,e)}function ut(t){var e=new d(t,".card-template",it,Y,(function(t,e){return rt.open(e,t)}),(function(t){Q.likeCard(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}),(function(t){Q.deleteLikeCard(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}));return e.createCard()}ot.setEventListeners();var ct=new k({items:[],renderer:function(t){var e=ut(t);ct.addItem(e)}},a);ct.renderItems();var at=new S(t,n);at.enableValidation();var lt=new S(t,u);lt.enableValidation();var st=new S(t,l);st.enableValidation(),r.addEventListener("click",(function(){Z.open();var t=tt.getUserInfo();o.value=t.name,i.value=t.info,at.resetValidation()})),s.addEventListener("click",(function(){nt.open(),st.resetValidation()})),c.addEventListener("click",(function(){et.open(),lt.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxpQkFDbkIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvblJlbW92ZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGZvcm1zQ29uZmlnLFxyXG4gIHBhZ2UsXHJcbiAgY29udGVudCxcclxuICBwcm9maWxlLFxyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBwcm9maWxlTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gIG5ld0NhcmRQb3B1cCxcclxuICBuZXdDYXJkQnV0dG9uLFxyXG4gIGxpc3RGb3JDYXJkcyxcclxuICBuZXdDYXJkRm9ybSxcclxuICBuZXdDYXJkVGl0bGVJbnB1dCxcclxuICBuZXdDYXJkVXJsSW5wdXQsXHJcbiAgZWRpdEF2YXRhckJ1dHRvbixcclxuICBjaGFuZ2VBdmF0YXJQb3B1cCxcclxufVxyXG5cclxuLy/QvdCw0LHQvtGAINC60LDRgNGC0L7Rh9C10Log0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y9cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xyXG4gIH1cclxuXTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8g0L7QsdGK0LXQutGCINC60LvQsNGB0YHQvtCyINC00LvRjyDQv9GA0LjQtdC80LAg0Log0YTRg9C90LrRhtC40LggZW5hYmxlVmFsaWRhdGlvblxyXG5jb25zdCBmb3Jtc0NvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLCAvLyDRhNC+0YDQvNCwXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLCAvL9C/0L7Qu9C1XHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idG4nLCAvL9C60L3QvtC/0LrQsCDRgdC+0YXRgNCw0L3QuNGC0Ywv0YHQvtC30LTQsNGC0YxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idG5fZGlzYWJsZWQnLCAvLyDQvdC10LDQutGC0LjQstC90LDRjyDQutC90L7Qv9C60LBcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsIC8vIGlucHV0INCy0YvQtNC10LvQtdC90LjQtSDQv9C+0LvRjyDQutGA0LDRgdC90L7QuSDQu9C40L3QuNC10LksINC/0L7QutCw0LfRi9Cy0LDRjyDRh9GC0L4g0LXRgdGC0Ywg0L7RiNC40LHQutCwINCy0LDQu9C40LTQsNGG0LjQuFxyXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJyAvLyDQtNC10LvQsNC10Lwg0YLQtdC60YHRgiDQvtGI0LjQsdC60Lgg0LIgc3BhbiDQv9C+0LQgaW5wdXQn0L7QvCDQstC40LTQuNC80YvQvCDQt9CwINGB0YfQtdGCIG9wYWNpdHk6MVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpO1xyXG5jb25zdCBjb250ZW50ID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG5jb25zdCBwcm9maWxlID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZScpO1xyXG5jb25zdCBwb3B1cEFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpOyAvLyDQuNGB0L/QvtC70YzQt9GD0Y4g0LTQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QviDQvtCy0LXRgNC70LXRjlxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GMLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcHJvZmlsZScpOyAvL9C/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7IC8v0LjQvNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7IC8v0L7Qv9C40YHQsNC90LjQtSDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnRuJyk7ICAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZUZvcm0gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3Byb2ZpbGUnKTsgLy/RhNC+0YDQvNCwINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2VsX25hbWUnKTsgLy/Qv9C+0LvQtSDQuNC80LXQvdC4INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfZGVzY3JpcHRpb24nKTsgLy/Qv9C+0LvQtSDQvtC/0LjRgdCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QstC+0L7QuSDQutCw0YDRgtC+0YfQutC4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9tZXN0bycpOyAvL9C/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5jb25zdCBuZXdDYXJkQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ0bicpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5cclxuY29uc3QgbGlzdEZvckNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19ncmlkJyk7IC8vINGB0L/QuNGB0L7Quiwg0LLQvdGD0YLRgNGMINC60L7RgtC+0YDQvtCz0L4g0LHRg9C00YPRgiDQstGB0YLQsNCy0LDRgtGMINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgbmV3Q2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fbWVzdG8nKTsgLy/RhNC+0YDQvNCwINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5jb25zdCBuZXdDYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfbWVzdG8tdGl0bGUnKTsgLy/Qv9C+0LvQtSDQuNC80LXQvdC4INC80LXRgdGC0LBcclxuY29uc3QgbmV3Q2FyZFVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9lbF9tZXN0by11cmwnKTsgLy/Qv9C+0LvQtSDQsNC00YDQtdGB0LAg0LrQsNGA0YLQuNC90LrQuFxyXG5cclxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYXZhdGFyJyk7IC8v0L/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItd3JhcHBlcicpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCBvcGVuUHJldmlld1BvcHVwLCB1c2VySWQsIG9wZW5Db25maXJtYXRpb25SZW1vdmUsIGxpa2VDYXJkLCBkZWxldGVMaWtlQ2FyZCkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7ICAvLyDQu9Cw0LnQutC4INGBINGB0LXRgNCy0LXRgNCwINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQu9C40L3RiyDQvNCw0YHRgdC40LLQsCDQu9Cw0LnQutC+0LIgLSDQutC+0LvQstCwXG4gICAgdGhpcy5fbGlrZUNhcmQgPSBsaWtlQ2FyZDtcbiAgICB0aGlzLl9kZWxldGVMaWtlQ2FyZCA9IGRlbGV0ZUxpa2VDYXJkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDsgLy9pZCDRgNCw0LfQvNC10YHRgtC40LLRiNC10LPQviDQutCw0YDRgtC+0YfQutGDLCDQstC70LDQtNC10LvQtdGGINC60LDRgNGC0LjQvdC60LhcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDsgLy9pZCDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5fb3BlblByZXZpZXdQb3B1cCA9IG9wZW5QcmV2aWV3UG9wdXA7IC8vINC00LvRjyDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQuNC90LrQuFxuICAgIHRoaXMuX29wZW5Db25maXJtYXRpb25SZW1vdmUgPSBvcGVuQ29uZmlybWF0aW9uUmVtb3ZlOyAgLy8g0LTQu9GPINC/0L7Qv9Cw0L/QsCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7IC8vX2lkINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpOyAgLy/QutCw0YDRgtC+0YfQutCwXG4gICAgdGhpcy5fd2FzdGViYXNrZXRCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fd2FzdGViYXNrZXQtYnRuJyk7XG4gIH1cblxuICAvL9GB0L7Qt9C00LDQvdC40LUg0LrQvtC/0LjQuCB0ZW1wbGF0ZVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIGxpa2VDbGlja0NvdW50KGRhdGEpIHtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgX2NoZWNrV2FzdGViYXNrZXRCdXR0b24gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xuICAgICAgdGhpcy5fd2FzdGViYXNrZXRCdXR0b24ucmVtb3ZlKClcbiAgICB9XG5cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICAvLyDQtNC70Y8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC40L3QutC4XG4gICAgLy8gdGhpcy5fd2FzdGViYXNrZXRCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fd2FzdGViYXNrZXQtYnRuJyk7XG4gICAgdGhpcy5fd2FzdGViYXNrZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuQ29uZmlybWF0aW9uUmVtb3ZlKHRoaXMuX2NhcmRJZCwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICAvL9C/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINC70LDQudC60L7QslxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fbGlrZS1idG4nKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpKSB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUxpa2VDYXJkKHRoaXMuX2NhcmRJZCk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgncGxhY2VfX2xpa2UtYnRuX2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbGlrZUNhcmQodGhpcy5fY2FyZElkKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwbGFjZV9fbGlrZS1idG5fYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL9C/0YDQvtGB0LzQvtGC0YAg0LrQsNGA0YLQuNC90LrQuCDQsiDQv9C+0L/QsNC/0LVcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuUHJldmlld1BvcHVwKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgfSk7XG4gIH1cblxuICAvL9GB0L7Qt9C00LDQtdC8INC4INC30LDQv9C+0LvQvdGP0LXQvCDQutCw0YDRgtC+0YfQutGDXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lOyAvLyDQvdCw0LfQstCw0L3QuNC1INC60LDRgNGC0LjQvdC60LggKHRpdGxlKVxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rOyAvL9GB0YHRi9C70LrQsCDQvdCwINC60LDRgNGC0LjQvdC60YNcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTsgLy9hbHQg0L7Qv9C40YHQsNC90LjQtSDQuiDQutCw0YDRgtC40L3QutC1XG5cbiAgICAvL9GB0YfQtdGC0YfQuNC6INC70LDQudC60L7QslxuICAgIHRoaXMuX2xpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1jb3VudFwiKTtcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7IC8v0LrQvtC7LdCy0L4g0LvQsNC50LrQvtCyINGB0YLQsNCy0LjRgtGB0Y8g0LjQtyDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LAtINC/0L4g0LTQu9C40L3QtSDQvNCw0YHRgdC40LLQsCDQu9Cw0LnQutC+0LJcbiAgICB0aGlzLl9jaGVja1dhc3RlYmFza2V0QnV0dG9uKCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1zQ29uZmlnLCBmb3JtRWxlbWVudCkge1xuXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGZvcm1zQ29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBmb3Jtc0NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZm9ybXNDb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBmb3Jtc0NvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGZvcm1zQ29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIH1cblxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60LggKNC60YDQsNGB0L3Ri9C5INGC0LXQutGB0YIg0Lgg0LrRgNCw0YHQvdCw0Y8g0LvQuNC90LjRjyDQsiDQv9C+0LvQtSlcbiAgLy9lcnJvckVsZW1lbnQgLSDRjdGC0L4g0YHQvtC+0YLQstC10YLRgdCy0YPRjtGJ0LjQuSDQutC70LDRgdGBIHNwYW4nYSDQvtC/0YDQtdC00LXQu9C10L3QvdC+0LPQviDQv9C+0LvRj1xuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTsgLy8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQutC70LDRgdGB0LAg0LTQu9GPINC40L3Qv9GD0YLQsCDRgSDQutGA0LDRgdC90L7QuSDQu9C40L3QuNC10LlcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7IC8v0YLQtdC60YHRgiDQtNC70Y8g0YHQv9Cw0L3QsCDQuNC3INGB0YLQsNC90LTQsNGA0YLQvdC+0Lkg0LHRgNCw0YPQt9C10YDQvdC+0Lkg0L7RiNC40LHQutC4XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7IC8vINC00LXQu9Cw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7RiNC40LHQutC4INCy0LjQtNC40LzRi9C8INC00L7QsdCw0LLQu9C10L3QuNC10Lwg0LrQu9Cw0YHRgdGDINC6INC40L3Qv9GD0YLRg1xuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0YHQutGA0YvRgtC40Y8g0L/QvtC70Y8g0YEg0L7RiNC40LHQutC+0Lkg0Lgg0L/QvtC60LDQt9CwINC+0YjQuNCx0LrQuFxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRj1xuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNC60Lgg0LjQvdC/0YPRgtC+0LIg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjFxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0L7RgdGC0L7QvdC40Y8g0LrQvdC+0L/QutC4XG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVkU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0L7RiNC40LHQvtC6INC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC60L3QvtC/0LrQvtC5XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINC+0YLQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuCDRgdCw0LHQvNC40YLQsCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LBcbiAgX2Rpc2FibGVkU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICB9XG5cbiAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0L/QvtC70LXQuSDRhNC+0YDQvFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b24oKTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgcmVuZGVySXRlbXMsINC60L7RgtC+0YDRi9C5INC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0YDQuNGB0L7QstC60YMg0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyLlxyXG4gIC8vINCe0YLRgNC40YHQvtCy0LrQsCDQutCw0LbQtNC+0LPQviDQvtGC0LTQtdC70YzQvdC+0LPQviDRjdC70LXQvNC10L3RgtCwINC00L7Qu9C20L3QsCDQvtGB0YPRidC10YHRgtCy0LvRj9GC0YzRgdGPINGE0YPQvdC60YbQuNC10LkgcmVuZGVyZXJcclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTsgLy8g0LLRi9C30YvQstCw0LXQvCByZW5kZXJlciwg0L/QtdGA0LXQtNCw0LIgaXRlbVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgYWRkSXRlbSwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgC5cclxuXHJcbiAgLy/QoyDQutC70LDRgdGB0LAgU2VjdGlvbiDQvdC10YIg0YHQstC+0LXQuSDRgNCw0LfQvNC10YLQutC4LiDQntC9INC/0L7Qu9GD0YfQsNC10YIg0YDQsNC30LzQtdGC0LrRgyDRh9C10YDQtdC3INGE0YPQvdC60YbQuNGOLdC60L7Qu9Cx0Y3QuiDQuCDQstGB0YLQsNCy0LvRj9C10YIg0LXRkSDQsiDQutC+0L3RgtC10LnQvdC10YAuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idG4nKTtcblxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0LUg0LzQtdGC0L7QtNGLIG9wZW4g0LggY2xvc2UsINC60L7RgtC+0YDRi9C1INC+0YLQstC10YfQsNGO0YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwLlxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIC8v0L/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQgX2hhbmRsZUVzY0Nsb3NlLCDQutC+0YLQvtGA0YvQuSDRgdC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutC70LDQstC40YjQtdC5IEVzYy5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LrQu9C40LrQvtC8INC90LAg0L7QstC10YDQu9C10LlcbiAgX2Nsb3NlT3ZlcmxheShldnQpIHtcblxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVycywg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsC5cbiAgLy8g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INGC0LDQutC20LUg0LfQsNC60YDRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC30LDRgtC10LzQvdGR0L3QvdGD0Y4g0L7QsdC70LDRgdGC0Ywg0LLQvtC60YDRg9CzINGE0L7RgNC80YsuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8v0YHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0LjQutC+0L3QutC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLlxuXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7IC8vINC30LDQutGA0YvQu9C4INC/0L7Qv9Cw0L8g0L/QviDQutC90L7Qv9C60LUg0LfQsNC60YDRi9GC0LjRj1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2Nsb3NlT3ZlcmxheS5iaW5kKHRoaXMpKTsgLy8g0LfQsNC60YDRi9C70Lgg0L/QvtC/0LDQvyDRh9C10YDQtdC3INC+0LLQtdGA0LvQtdC5XG4gIH1cblxufVxuXG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy/QmtGA0L7QvNC1INGB0LXQu9C10LrRgtC+0YDQsCDQv9C+0L/QsNC/0LAg0L/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YsuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idG4nKTtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC00LXRgNC20LjRgiDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCBfZ2V0SW5wdXRWYWx1ZXMsINC60L7RgtC+0YDRi9C5INGB0L7QsdC40YDQsNC10YIg0LTQsNC90L3Ri9C1INCy0YHQtdGFINC/0L7Qu9C10Lkg0YTQvtGA0LzRiy5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LIg0Y3RgtC+0YIg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40Y8g0LLRgdC10YUg0L/QvtC70LXQuVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIC8v0J/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVyc1xyXG4gIC8v0J7QvSDQtNC+0LvQttC10L0g0L3QtSDRgtC+0LvRjNC60L4g0LTQvtCx0LDQstC70Y/RgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8sXHJcbiAgLy8g0L3QviDQuCDQtNC+0LHQsNCy0LvRj9GC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9Cf0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xvc2UsINGC0LDQuiDQutCw0Log0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwINGE0L7RgNC80LAg0LTQvtC70LbQvdCwINC10YnRkSDQuCDRgdCx0YDQsNGB0YvQstCw0YLRjNGB0Y8uXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvblJlbW92ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRSZW1vdmUpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0UmVtb3ZlID0gaGFuZGxlU3VibWl0UmVtb3ZlO1xyXG4gIH1cclxuXHJcbiAgb3BlbihlbGVtZW50LCBjYXJkSWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdFJlbW92ZSh0aGlzLl9lbGVtZW50LCB0aGlzLl9jYXJkSWQpXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgLyp1c2VySWQqLykge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy5cclxuICAvLyDRgdC+0LHQuNGA0LDQtdGCINC40L3RhNC+0YDQvNCw0YbQuNGOINC40Lcg0L/RgNC+0YTQuNC70Y8g0Lgg0L/QvtC00YHRgtCw0LLQu9GP0LXRgiDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCyINGE0L7RgNC80YMg0L/RgNC4INC+0YLQutGA0YvRgtC40LguXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGluZm86IHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40Lcg0YTQvtGA0LzRiyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LIg0L/RgNC+0YTQuNC70YwuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMudXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8g0LzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwXHJcbiAgZ2V0VXNlcigpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIC8vINC30LDQv9GA0L7RgSDQutCw0YDRgtC+0YfQtdC6XHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXIoaW5wdXREYXRhKSB7ICAvL9C80LXRgtC+0LTQvtC8IFBBVENIXHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBpbnB1dERhdGEuaW5mb1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoaW5wdXREYXRhKSB7ICAgIC8v0LzQtdGC0L7QtNC+0LwgUE9TVFxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGlucHV0RGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXIoaW5wdXREYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGlucHV0RGF0YS5hdmF0YXIsIC8vYXZhdGFyVXJsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MycsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJ2ExNTAxNmQ1LWFlOWMtNDMzOS04NDVkLTMyNjhiN2ZjYWFiMicsIC8v0LzQvtC5INGC0L7QutC10L1cclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG4iLCJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgZm9ybXNDb25maWcsXG4gIHByb2ZpbGVQb3B1cCxcbiAgZWRpdFByb2ZpbGVCdXR0b24sXG4gIHByb2ZpbGVOYW1lSW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxuICBuZXdDYXJkUG9wdXAsXG4gIG5ld0NhcmRCdXR0b24sXG4gIGxpc3RGb3JDYXJkcyxcbiAgbmV3Q2FyZFRpdGxlSW5wdXQsXG4gIG5ld0NhcmRVcmxJbnB1dCxcbiAgZWRpdEF2YXRhckJ1dHRvbixcbiAgY2hhbmdlQXZhdGFyUG9wdXAsXG59IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qc1wiXG5cbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uUmVtb3ZlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiXG5cbmxldCB1c2VySWQgPSBudWxsO1xuXG4vL9C40YHQv9C+0LvRjNC30YPQtdC8IFByb21pc2UuYWxsINGH0YLQvtCx0Ysg0LTQvtC20LTQsNGC0YzRgdGPINCy0YvQv9C+0LvQvdC10L3QuNGPINC+0LHQvtC40YUg0LfQsNC/0YDQvtGB0L7QsiAtIGdldFVzZXIg0LggZ2V0SW5pdGlhbENhcmRzIClcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlcigpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKChbZGF0YSwgY2FyZHNdKSA9PiB7XG5cbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gIHVzZXJJZCA9IGRhdGEuX2lkO1xuICBjYXJkcy5mb3JFYWNoKFxuICAgIChpdGVtKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxuICAgIH0pO1xufSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgfSk7XG5cblxuLy8g0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjyAtINGE0L7RgNC80LAg0L/RgNC+0YTQuNC70Y8gLSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GPINGBINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LXQvCDQvdCwINGB0LXRgNCy0LXRgFxuLy8g0Lgg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC90LAg0YHRgtGA0LDQvdC40YbQtSDQsiDRgNCw0LfQtNC10LvQtSDQv9GA0L7RhNC40LvRj1xuY29uc3QgcHJvZmlsZVBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3Byb2ZpbGUnLCAoaW5wdXREYXRhKSA9PiB7XG4gIHByb2ZpbGVQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaS5lZGl0VXNlcihpbnB1dERhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcHJvZmlsZVBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcblxucHJvZmlsZVBvcHVwQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy8g0LLQtdGI0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60LggKNC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLCBwcmV2ZW50RGVmYXVsdCwg0YHQsdGA0L7RgSDRhNC+0YDQvNGLINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4KVxuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbygnLnByb2ZpbGVfX25hbWUnLCAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJywgJy5wcm9maWxlX19hdmF0YXInKTtcblxuY29uc3QgbmV3Q2FyZFBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX21lc3RvJywgKGlucHV0RGF0YSkgPT4ge1xuICBuZXdDYXJkUG9wdXBDbGFzcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuYWRkTmV3Q2FyZChpbnB1dERhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gbmV3Q2FyZFBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcbm5ld0NhcmRQb3B1cENsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cblxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYXZhdGFyJywgKGlucHV0RGF0YSkgPT4ge1xuICBjaGFuZ2VBdmF0YXJQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaS5jaGFuZ2VBdmF0YXIoaW5wdXREYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcblxuY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tINC/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4IC0tLS0tLS0tLS0tLS0tLy9cblxuY29uc3QgY29uZmlybVJlbW92ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlKCcucG9wdXBfY29uZmlybWF0aW9uLXJlbW92ZScsIChyZW1vdmVDYXJkLCBjYXJkSWQpID0+IHtcbiAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkLCByZW1vdmVDYXJkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJlbW92ZUNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pO1xufSk7XG5cbmNvbmZpcm1SZW1vdmVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQuNC90L7Qui0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3ZpZXcnKTsgLy/Qv9C+0L/QsNC/INC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4XG5cbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIG9wZW5QcmV2aWV3UG9wdXAobmFtZSwgbGluaykge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufVxuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLdGB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCAo0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCBDYXJkINCyINGB0L7Rh9C10YLQsNC90LjQuCDRgSDQu9Cw0LnQui/QvtGE0YTQu9Cw0LnQuiApIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcuY2FyZC10ZW1wbGF0ZScsIG9wZW5QcmV2aWV3UG9wdXAsIHVzZXJJZCxcbiAgICAoY2FyZElkLCBlbGVtZW50KSA9PiBjb25maXJtUmVtb3ZlUG9wdXAub3BlbihlbGVtZW50LCBjYXJkSWQpLFxuICAgIChjYXJkSWQpID0+IHtcbiAgICAgIGFwaS5saWtlQ2FyZChjYXJkSWQpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgY2FyZC5saWtlQ2xpY2tDb3VudChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAoY2FyZElkKSA9PiB7XG4gICAgICBhcGkuZGVsZXRlTGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICBjYXJkLmxpa2VDbGlja0NvdW50KGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KTtcbiAgICB9XG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuLy/Rg9Cx0LjRgNCw0LXQvCDQt9Cw0LPQvtGC0L7QstC70LXQvdC90YvQuSDRgdC/0LjRgdC+0Log0LrQsNGA0YLQvtGH0LXQuiBpbml0aWFsQ2FyZHMg0Lgg0L7RgdGC0LDQstC70Y/QtdC8INC/0YPRgdGC0L7QuSDQvNCw0YHRgdC40LIg0L7QsdGK0LXQutGC0L7QsiAtIGl0ZW1zOiBbXVxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICBpdGVtczogW10sXG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xuICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmQpO1xuICB9XG59LCBsaXN0Rm9yQ2FyZHNcbik7XG5cbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xuXG4vLy0tLS0tLS0tLS0tLS0tLdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INC6INGE0L7RgNC80LUg0L/RgNC+0YTQuNC70Y8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLy0tLS0tLS0tLS0tLS0tLS3Rh9C10YDQtdC3INGB0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIEZvcm1WYWxpZGF0b3ItLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgcHJvZmlsZVBvcHVwKTtcbnByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLy0tLS0tLS0tLS3Qv9C+0LTQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQuiDRhNC+0YDQvNC1INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4LS0tLS0tLS0tLS0tLS0tLS1cbi8vLS0tLS0tLS0tLS0tLSDRh9C10YDQtdC3INGB0L7Qt9C00LDQvdC40LUg0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQu9Cw0YHRgdCwIEZvcm1WYWxpZGF0b3ItLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgbmV3Q2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1zQ29uZmlnLCBuZXdDYXJkUG9wdXApO1xubmV3Q2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vLS0tLS0tLS0tLS0tLdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INC6INGE0L7RgNC80LUg0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgtLS0tLS0tLS0tLS0tLVxuY29uc3QgYXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybXNDb25maWcsIGNoYW5nZUF2YXRhclBvcHVwKTtcbmF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdGB0LvRg9GI0LDRgtC10LvQuC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPINC/0L4g0LrQvdC+0L/QutC1INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwcm9maWxlUG9wdXBDbGFzcy5vcGVuKCk7XG4gIGNvbnN0IHVzZXJHZXREYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSA9IHVzZXJHZXREYXRhLm5hbWU7XG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlckdldERhdGEuaW5mbztcbiAgcHJvZmlsZVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn1cbik7XG5cbi8v0YHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsCDQv9GA0L7RhNC40LvRj1xuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5vcGVuKCk7XG4gIGF2YXRhclZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0L/QviDQutC90L7Qv9C60LVcbm5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIG5ld0NhcmRQb3B1cENsYXNzLm9wZW4oKTtcbiAgbmV3Q2FyZFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5cbiJdLCJuYW1lcyI6WyJmb3Jtc0NvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVQb3B1cCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsInByb2ZpbGVOYW1lSW5wdXQiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsIm5ld0NhcmRQb3B1cCIsIm5ld0NhcmRCdXR0b24iLCJsaXN0Rm9yQ2FyZHMiLCJjaGFuZ2VBdmF0YXJQb3B1cCIsImVkaXRBdmF0YXJCdXR0b24iLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJvcGVuUHJldmlld1BvcHVwIiwidXNlcklkIiwib3BlbkNvbmZpcm1hdGlvblJlbW92ZSIsImxpa2VDYXJkIiwiZGVsZXRlTGlrZUNhcmQiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsIl91c2VySWQiLCJfb3duZXJJZCIsIl93YXN0ZWJhc2tldEJ1dHRvbiIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfb3BlbkNvbmZpcm1hdGlvblJlbW92ZSIsIl9jYXJkSWQiLCJfbGlrZUJ1dHRvbiIsIl9lbGVtZW50IiwiX2xpa2VzIiwic29tZSIsImxpa2UiLCJfaWQiLCJfZGVsZXRlTGlrZUNhcmQiLCJjbGFzc0xpc3QiLCJfbGlrZUNhcmQiLCJhZGQiLCJfY2FyZEltYWdlIiwiX29wZW5QcmV2aWV3UG9wdXAiLCJfbmFtZSIsIl9saW5rIiwidGhpcyIsIm5hbWUiLCJsaW5rIiwibGlrZXMiLCJvd25lciIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2dldFRlbXBsYXRlIiwia2V5IiwidmFsdWUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VDb3VudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwic3JjIiwiYWx0IiwiX2NoZWNrV2FzdGViYXNrZXRCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImNvbmNhdCIsImlkIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lucHV0TGlzdCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGlzYWJsZWRTdWJtaXRCdXR0b24iLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsIl90aGlzMiIsInNldEF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX3BvcHVwQ2xvc2VCdXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwiY2xvc2UiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiX2Nsb3NlT3ZlcmxheSIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsIl9wcmV2aWV3SW1hZ2UiLCJfaW1hZ2VDYXB0aW9uIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfZm9ybVZhbHVlcyIsIl90aGlzMyIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJQb3B1cENvbmZpcm1hdGlvblJlbW92ZSIsImhhbmRsZVN1Ym1pdFJlbW92ZSIsIl9oYW5kbGVTdWJtaXRSZW1vdmUiLCJjYXJkSWQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImluZm9TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJJbmZvIiwiX3VzZXJBdmF0YXIiLCJpbmZvIiwiYXZhdGFyIiwiYWJvdXQiLCJhcGkiLCJBcGkiLCJvcHRpb25zIiwidXJsIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiaW5wdXREYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlciIsImdldEluaXRpYWxDYXJkcyIsIl9yZWYyIiwiY2FyZHMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2FyZHNMaXN0IiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwcm9maWxlUG9wdXBDbGFzcyIsInJlbmRlckxvYWRpbmciLCJlZGl0VXNlciIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsIm5ld0NhcmRQb3B1cENsYXNzIiwiYWRkTmV3Q2FyZCIsImNoYW5nZUF2YXRhclBvcHVwQ2xhc3MiLCJjaGFuZ2VBdmF0YXIiLCJjb25maXJtUmVtb3ZlUG9wdXAiLCJyZW1vdmVDYXJkIiwiZGVsZXRlQ2FyZCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImNhcmQiLCJsaWtlQ2xpY2tDb3VudCIsInJlbmRlckl0ZW1zIiwicHJvZmlsZVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJuZXdDYXJkVmFsaWRhdG9yIiwiYXZhdGFyVmFsaWRhdG9yIiwidXNlckdldERhdGEiLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=