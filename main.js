(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},e=document.querySelector(".page").querySelector(".content").querySelector(".profile"),n=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),r=(e.querySelector(".profile__name"),e.querySelector(".profile__description"),e.querySelector(".profile__edit-btn")),o=(n.querySelector(".popup__form_profile"),n.querySelector(".popup__input_el_name")),i=n.querySelector(".popup__input_el_description"),u=document.querySelector(".popup_mesto"),c=e.querySelector(".profile__add-btn"),a=document.querySelector(".place__grid"),l=(document.querySelector(".popup__form_mesto"),document.querySelector(".popup__input_el_mesto-title"),document.querySelector(".popup__input_el_mesto-url"),document.querySelector(".popup_avatar")),s=document.querySelector(".profile__avatar-wrapper");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function y(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e,n,r,o,i,u,c){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"_checkWastebasketButton",(function(){a._userId!==a._ownerId&&a._wastebasketButton.remove()})),y(this,"_setEventListeners",(function(){a._wastebasketButton.addEventListener("click",(function(){a._openConfirmationRemove(a._cardId,a)})),a._likeButton.addEventListener("click",(function(){a._checkLikeUser()?(a._deleteLike(a._cardId),a._likeButton.classList.remove("place__like-btn_active")):(a._addLike(a._cardId),a._likeButton.classList.add("place__like-btn_active"))})),a._cardImage.addEventListener("click",(function(){a._openPreviewPopup(a._name,a._link)}))})),this._name=e.name,this._link=e.link,this._likes=e.likes,this._addLike=u,this._deleteLike=c,this._ownerId=e.owner._id,this._cardId=e._id,this._templateSelector=n,this._openPreviewPopup=r,this._openConfirmationRemove=i,this._userId=o,this._element=this._getTemplate(),this._wastebasketButton=this._element.querySelector(".place__wastebasket-btn"),this._likeButton=this._element.querySelector(".place__like-btn")}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place__card").cloneNode(!0)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"likeClickCount",value:function(t){this._likes=t.likes,this._likeCount.textContent=this._likes.length}},{key:"_checkLikeUser",value:function(){var t=this;if(this._likes.some((function(e){return e._id===t._userId})))return!0}},{key:"createCard",value:function(){return this._element.querySelector(".place__title").textContent=this._name,this._cardImage=this._element.querySelector(".place__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount=this._element.querySelector(".place__like-count"),this._likeCount.textContent=this._likes.length,this._checkLikeUser()&&this._likeButton.classList.add("place__like-btn_active"),this._checkWastebasketButton(),this._setEventListeners(),this._element}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function b(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}var S=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e,n.classList.add(r._errorClass)})),b(this,"_hideInputError",(function(t){var e=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(r._inputErrorClass),e.classList.remove(r._errorClass),e.textContent=""})),b(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._disabledSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled","true"))})),b(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners(),r._disabledSubmitButton()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._disabledSubmitButton(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_disabledSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var k=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._popupCloseButton=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closeOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupCloseButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("mousedown",this._closeOverlay.bind(this))}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._previewImage=e._popup.querySelector(".popup__image"),e._imageCaption=e._popup.querySelector(".popup__image-caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._previewImage.src=e,this._previewImage.alt=t,this._imageCaption.textContent=t,L(q(u.prototype),"open",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==T(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===T(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=U(r);if(o){var n=U(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submitButton=n._form.querySelector(".popup__submit-btn"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;A(U(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){A(U(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=!0===t?"Сохранение...":"Сохранить"}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},J.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(r);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._form=n._popup.querySelector(".popup__form"),n._handleSubmitRemove=e,n}return e=u,(n=[{key:"open",value:function(t,e){J(H(u.prototype),"open",this).call(this),this._element=t,this._cardId=e}},{key:"setEventListeners",value:function(){var t=this;J(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitRemove(t._element,t._cardId),t.close()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}var $=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userInfo=document.querySelector(n),this._userAvatar=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,info:this._userInfo.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userInfo.textContent=t.about,this._userAvatar.src=t.avatar}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===G(o)?o:String(o)),r)}var o}var Q=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.baseUrl,this.headers=e.headers}var e,n;return e=t,(n=[{key:"getUser",value:function(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"editUser",value:function(t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t.name,about:t.info})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addNewCard",value:function(t){return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"changeAvatar",value:function(t){return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t.avatar})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{authorization:"a15016d5-ae9c-4339-845d-3268b7fcaab2","Content-Type":"application/json"}});function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=null;Promise.all([Q.getUser(),Q.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];tt.setUserInfo(o),Y=o._id,i.forEach((function(t){ct.addItem(ut(t))}))})).catch((function(t){console.log(t)}));var Z=new V(".popup_profile",(function(t){Z.renderLoading(!0),Q.editUser(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return Z.renderLoading(!1)}))}));Z.setEventListeners();var tt=new $(".profile__name",".profile__description",".profile__avatar"),et=new V(".popup_mesto",(function(t){et.renderLoading(!0),Q.addNewCard(t).then((function(t){ct.addItem(ut(t))})).catch((function(t){console.log(t)})).finally((function(){return et.renderLoading(!1)}))}));et.setEventListeners();var nt=new V(".popup_avatar",(function(t){nt.renderLoading(!0),Q.changeAvatar(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return nt.renderLoading(!1)}))}));nt.setEventListeners();var rt=new M(".popup_confirmation-remove",(function(t,e){Q.deleteCard(e,t).then((function(){t.deleteCard()})).catch((function(t){console.log(t)}))}));rt.setEventListeners();var ot=new B(".popup_view");function it(t,e){ot.open(t,e)}function ut(t){var e=new d(t,".card-template",it,Y,(function(t,e){return rt.open(e,t)}),(function(t){Q.addLike(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}),(function(t){Q.deleteLike(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}));return e.createCard()}ot.setEventListeners();var ct=new k({items:[],renderer:function(t){var e=ut(t);ct.addItem(e)}},a);ct.renderItems();var at=new S(t,n);at.enableValidation();var lt=new S(t,u);lt.enableValidation();var st=new S(t,l);st.enableValidation(),r.addEventListener("click",(function(){Z.open();var t=tt.getUserInfo();o.value=t.name,i.value=t.info,at.resetValidation()})),s.addEventListener("click",(function(){nt.open(),st.resetValidation()})),c.addEventListener("click",(function(){et.open(),lt.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixpQkFBaUIsU0FBUyxXQUN6Q3FLLEdBQXVCTSxPQUN2Qk8sR0FBZ0JHLGlCQUNsQixJQUdBeE0sRUFBY21CLGlCQUFpQixTQUFTLFdBQ3RDbUssR0FBa0JRLE9BQ2xCTSxHQUFpQkksaUJBQ25CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtYXRpb25SZW1vdmUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBmb3Jtc0NvbmZpZyxcclxuICBwYWdlLFxyXG4gIGNvbnRlbnQsXHJcbiAgcHJvZmlsZSxcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgZWRpdFByb2ZpbGVCdXR0b24sXHJcbiAgcHJvZmlsZU5hbWVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxuICBuZXdDYXJkUG9wdXAsXHJcbiAgbmV3Q2FyZEJ1dHRvbixcclxuICBsaXN0Rm9yQ2FyZHMsXHJcbiAgbmV3Q2FyZEZvcm0sXHJcbiAgbmV3Q2FyZFRpdGxlSW5wdXQsXHJcbiAgbmV3Q2FyZFVybElucHV0LFxyXG4gIGVkaXRBdmF0YXJCdXR0b24sXHJcbiAgY2hhbmdlQXZhdGFyUG9wdXAsXHJcbn1cclxuXHJcbi8v0L3QsNCx0L7RgCDQutCw0YDRgtC+0YfQtdC6INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JjQstCw0L3QvtCy0L4nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxuICB9XHJcbl07XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vINC+0LHRitC10LrRgiDQutC70LDRgdGB0L7QsiDQtNC70Y8g0L/RgNC40LXQvNCwINC6INGE0YPQvdC60YbQuNC4IGVuYWJsZVZhbGlkYXRpb25cclxuY29uc3QgZm9ybXNDb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJywgLy8g0YTQvtGA0LzQsFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JywgLy/Qv9C+0LvQtVxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQtYnRuJywgLy/QutC90L7Qv9C60LAg0YHQvtGF0YDQsNC90LjRgtGML9GB0L7Qt9C00LDRgtGMXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnRuX2Rpc2FibGVkJywgLy8g0L3QtdCw0LrRgtC40LLQvdCw0Y8g0LrQvdC+0L/QutCwXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLCAvLyBpbnB1dCDQstGL0LTQtdC70LXQvdC40LUg0L/QvtC70Y8g0LrRgNCw0YHQvdC+0Lkg0LvQuNC90LjQtdC5LCDQv9C+0LrQsNC30YvQstCw0Y8g0YfRgtC+INC10YHRgtGMINC+0YjQuNCx0LrQsCDQstCw0LvQuNC00LDRhtC40LhcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZScgLy8g0LTQtdC70LDQtdC8INGC0LXQutGB0YIg0L7RiNC40LHQutC4INCyIHNwYW4g0L/QvtC0IGlucHV0J9C+0Lwg0LLQuNC00LjQvNGL0Lwg0LfQsCDRgdGH0LXRgiBvcGFjaXR5OjFcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKTtcclxuY29uc3QgY29udGVudCA9IHBhZ2UucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxuY29uc3QgcHJvZmlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcclxuY29uc3QgcG9wdXBBbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKTsgLy8g0LjRgdC/0L7Qu9GM0LfRg9GOINC00LvRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L4g0L7QstC10YDQu9C10Y5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3Byb2ZpbGUnKTsgLy/Qv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpOyAvL9C40LzRjyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpOyAvL9C+0L/QuNGB0LDQvdC40LUg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ0bicpOyAgLy/QutC90L7Qv9C60LAg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9wcm9maWxlJyk7IC8v0YTQvtGA0LzQsCDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9lbF9uYW1lJyk7IC8v0L/QvtC70LUg0LjQvNC10L3QuCDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2VsX2Rlc2NyaXB0aW9uJyk7IC8v0L/QvtC70LUg0L7Qv9C40YHQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDRgdC+0LfQtNCw0L3QuNGPINC90LLQvtC+0Lkg0LrQsNGA0YLQvtGH0LrQuC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfbWVzdG8nKTsgLy/Qv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC80LXRgdGC0LBcclxuY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKTsgLy/QutC90L7Qv9C60LAg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC80LXRgdGC0LBcclxuXHJcbmNvbnN0IGxpc3RGb3JDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fZ3JpZCcpOyAvLyDRgdC/0LjRgdC+0LosINCy0L3Rg9GC0YDRjCDQutC+0YLQvtGA0L7Qs9C+INCx0YPQtNGD0YIg0LLRgdGC0LDQstCw0YLRjCDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IG5ld0NhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX21lc3RvJyk7IC8v0YTQvtGA0LzQsCDQv9C+0L/QsNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC80LXRgdGC0LBcclxuY29uc3QgbmV3Q2FyZFRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2VsX21lc3RvLXRpdGxlJyk7IC8v0L/QvtC70LUg0LjQvNC10L3QuCDQvNC10YHRgtCwXHJcbmNvbnN0IG5ld0NhcmRVcmxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfbWVzdG8tdXJsJyk7IC8v0L/QvtC70LUg0LDQtNGA0LXRgdCwINC60LDRgNGC0LjQvdC60LhcclxuXHJcbmNvbnN0IGNoYW5nZUF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2F2YXRhcicpOyAvL9C/0L7Qv9Cw0L8g0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLXdyYXBwZXInKTsgLy/QutC90L7Qv9C60LAg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3Rvciwgb3BlblByZXZpZXdQb3B1cCwgdXNlcklkLCBvcGVuQ29uZmlybWF0aW9uUmVtb3ZlLCBhZGRMaWtlLCBkZWxldGVMaWtlKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlczsgIC8vINC70LDQudC60Lgg0YEg0YHQtdGA0LLQtdGA0LAg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC70LjQvdGLINC80LDRgdGB0LjQstCwINC70LDQudC60L7QsiAtINC60L7Qu9Cy0LBcbiAgICB0aGlzLl9hZGRMaWtlID0gYWRkTGlrZTtcbiAgICB0aGlzLl9kZWxldGVMaWtlID0gZGVsZXRlTGlrZTtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7IC8vaWQg0YDQsNC30LzQtdGB0YLQuNCy0YjQtdCz0L4g0LrQsNGA0YLQvtGH0LrRgywg0LLQu9Cw0LTQtdC70LXRhiDQutCw0YDRgtC40L3QutC4XG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7IC8vaWQg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX29wZW5QcmV2aWV3UG9wdXAgPSBvcGVuUHJldmlld1BvcHVwOyAvLyDQtNC70Y8g0L/RgNC+0YHQvNC+0YLRgNCwINC60LDRgNGC0LjQvdC60LhcbiAgICB0aGlzLl9vcGVuQ29uZmlybWF0aW9uUmVtb3ZlID0gb3BlbkNvbmZpcm1hdGlvblJlbW92ZTsgIC8vINC00LvRjyDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkOyAvL19pZCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTsgIC8v0LrQsNGA0YLQvtGH0LrQsFxuICAgIHRoaXMuX3dhc3RlYmFza2V0QnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3dhc3RlYmFza2V0LWJ0bicpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fbGlrZS1idG4nKTtcbiAgfVxuXG4gIC8v0YHQvtC30LTQsNC90LjQtSDQutC+0L/QuNC4IHRlbXBsYXRlXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2NhcmQnKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgbGlrZUNsaWNrQ291bnQoZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfY2hlY2tXYXN0ZWJhc2tldEJ1dHRvbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XG4gICAgICB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbi5yZW1vdmUoKVxuICAgIH1cbiAgfVxuXG4gIF9jaGVja0xpa2VVc2VyKCkge1xuICAgIGlmICh0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgZmFsc2VcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgLy8g0LTQu9GPINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQuNC90LrQuFxuICAgIC8vIHRoaXMuX3dhc3RlYmFza2V0QnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3dhc3RlYmFza2V0LWJ0bicpO1xuICAgIHRoaXMuX3dhc3RlYmFza2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fb3BlbkNvbmZpcm1hdGlvblJlbW92ZSh0aGlzLl9jYXJkSWQsIHRoaXMpO1xuICAgIH0pO1xuXG4gICAgLy/Qv9C10YDQtdC60LvRjtGH0LDRgtC10LvRjCDQu9Cw0LnQutC+0LJcblxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY2hlY2tMaWtlVXNlcigpKSB7XG4gICAgICAgIHRoaXMuX2RlbGV0ZUxpa2UodGhpcy5fY2FyZElkKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZV9fbGlrZS1idG5fYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGRMaWtlKHRoaXMuX2NhcmRJZCk7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgncGxhY2VfX2xpa2UtYnRuX2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy/Qv9GA0L7RgdC80L7RgtGAINC60LDRgNGC0LjQvdC60Lgg0LIg0L/QvtC/0LDQv9C1XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fb3BlblByZXZpZXdQb3B1cCh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxuICAgIH0pO1xuICB9XG5cbiAgLy/RgdC+0LfQtNCw0LXQvCDQuCDQt9Cw0L/QvtC70L3Rj9C10Lwg0LrQsNGA0YLQvtGH0LrRg1xuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTsgLy8g0L3QsNC30LLQsNC90LjQtSDQutCw0YDRgtC40L3QutC4ICh0aXRsZSlcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9faW1hZ2UnKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluazsgLy/RgdGB0YvQu9C60LAg0L3QsCDQutCw0YDRgtC40L3QutGDXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7IC8vYWx0INC+0L/QuNGB0LDQvdC40LUg0Log0LrQsNGA0YLQuNC90LrQtVxuXG4gICAgLy/RgdGH0LXRgtGH0LjQuiDQu9Cw0LnQutC+0LJcbiAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoOyAvL9C60L7Quy3QstC+INC70LDQudC60L7QsiDRgdGC0LDQstC40YLRgdGPINC40Lcg0LTQsNC90L3Ri9GFINGBINGB0LXRgNCy0LXRgNCwLSDQv9C+INC00LvQuNC90LUg0LzQsNGB0YHQuNCy0LAg0LvQsNC50LrQvtCyXG4gICAgaWYgKHRoaXMuX2NoZWNrTGlrZVVzZXIoKSkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwbGFjZV9fbGlrZS1idG5fYWN0aXZlJyk7XG4gICAgfVxuICAgIHRoaXMuX2NoZWNrV2FzdGViYXNrZXRCdXR0b24oKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybXNDb25maWcsIGZvcm1FbGVtZW50KSB7XG5cbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gZm9ybXNDb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGZvcm1zQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBmb3Jtc0NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGZvcm1zQ29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZm9ybXNDb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgfVxuXG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0L/QvtC60LDQt9CwINC+0YjQuNCx0LrQuCAo0LrRgNCw0YHQvdGL0Lkg0YLQtdC60YHRgiDQuCDQutGA0LDRgdC90LDRjyDQu9C40L3QuNGPINCyINC/0L7Qu9C1KVxuICAvL2Vycm9yRWxlbWVudCAtINGN0YLQviDRgdC+0L7RgtCy0LXRgtGB0LLRg9GO0YnQuNC5INC60LvQsNGB0YEgc3BhbidhINC+0L/RgNC10LTQtdC70LXQvdC90L7Qs9C+INC/0L7Qu9GPXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpOyAvLyDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INC60LvQsNGB0YHQsCDQtNC70Y8g0LjQvdC/0YPRgtCwINGBINC60YDQsNGB0L3QvtC5INC70LjQvdC40LXQuVxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTsgLy/RgtC10LrRgdGCINC00LvRjyDRgdC/0LDQvdCwINC40Lcg0YHRgtCw0L3QtNCw0YDRgtC90L7QuSDQsdGA0LDRg9C30LXRgNC90L7QuSDQvtGI0LjQsdC60LhcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTsgLy8g0LTQtdC70LDQtdC8INGB0L7QvtCx0YnQtdC90LjQtSDQvtGI0LjQsdC60Lgg0LLQuNC00LjQvNGL0Lwg0LTQvtCx0LDQstC70LXQvdC40LXQvCDQutC70LDRgdGB0YMg0Log0LjQvdC/0YPRgtGDXG4gIH1cblxuICAvLyDRhNGD0L3QutGG0LjRjyDRgdC60YDRi9GC0LjRjyDQv9C+0LvRjyDRgSDQvtGI0LjQsdC60L7QuSDQuCDQv9C+0LrQsNC30LAg0L7RiNC40LHQutC4XG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0YDQvtGF0L7QttC00LXQvdC40Y8g0LLQsNC70LjQtNCw0YbQuNC4INC/0L7Qu9GPXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXQpID0+IHtcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0L/RgNC+0LLQtdGA0LrQuCDQuNC90L/Rg9GC0L7QsiDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgICB9KVxuICB9XG5cbiAgLy/RhNGD0L3QutGG0LjRjyDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0YHQvtGB0YLQvtC90LjRjyDQutC90L7Qv9C60LhcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC00LvRjyDQvtGH0LjRgdGC0LrQuCDQvtGI0LjQsdC+0Log0Lgg0YPQv9GA0LDQstC70LXQvdC40Y8g0LrQvdC+0L/QutC+0LlcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Rpc2FibGVkU3VibWl0QnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dClcbiAgICB9KTtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0L7RgtC60LvRjtGH0LXQvdC40Y8g0LrQvdC+0L/QutC4INGB0LDQsdC80LjRgtCwINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QsFxuICBfZGlzYWJsZWRTdWJtaXRCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gIH1cblxuICAvL9GB0LvRg9GI0LDRgtC10LvRjCDQv9C+0LvQtdC5INGE0L7RgNC8XG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC00LXRgNC20LjRgiDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCByZW5kZXJJdGVtcywg0LrQvtGC0L7RgNGL0Lkg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIuXHJcbiAgLy8g0J7RgtGA0LjRgdC+0LLQutCwINC60LDQttC00L7Qs9C+INC+0YLQtNC10LvRjNC90L7Qs9C+INGN0LvQtdC80LXQvdGC0LAg0LTQvtC70LbQvdCwINC+0YHRg9GJ0LXRgdGC0LLQu9GP0YLRjNGB0Y8g0YTRg9C90LrRhtC40LXQuSByZW5kZXJlclxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pOyAvLyDQstGL0LfRi9Cy0LDQtdC8IHJlbmRlcmVyLCDQv9C10YDQtdC00LDQsiBpdGVtXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC00LXRgNC20LjRgiDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCBhZGRJdGVtLCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0LXRgiDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGALlxyXG5cclxuICAvL9CjINC60LvQsNGB0YHQsCBTZWN0aW9uINC90LXRgiDRgdCy0L7QtdC5INGA0LDQt9C80LXRgtC60LguINCe0L0g0L/QvtC70YPRh9Cw0LXRgiDRgNCw0LfQvNC10YLQutGDINGH0LXRgNC10Lcg0YTRg9C90LrRhtC40Y4t0LrQvtC70LHRjdC6INC4INCy0YHRgtCw0LLQu9GP0LXRgiDQtdGRINCyINC60L7QvdGC0LXQudC90LXRgC5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ0bicpO1xuXG4gIH1cblxuICAvL9C/0YPQsdC70LjRh9C90YvQtSDQvNC10YLQvtC00Ysgb3BlbiDQuCBjbG9zZSwg0LrQvtGC0L7RgNGL0LUg0L7RgtCy0LXRh9Cw0Y7RgiDQt9CwINC+0YLQutGA0YvRgtC40LUg0Lgg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxuICB9XG5cbiAgLy/Qv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCBfaGFuZGxlRXNjQ2xvc2UsINC60L7RgtC+0YDRi9C5INGB0L7QtNC10YDQttC40YIg0LvQvtCz0LjQutGDINC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC60LvQsNCy0LjRiNC10LkgRXNjLlxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyDQl9Cw0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQutC70LjQutC+0Lwg0L3QsCDQvtCy0LXRgNC70LXQuVxuICBfY2xvc2VPdmVybGF5KGV2dCkge1xuXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cblxuICAvL9C/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0IHNldEV2ZW50TGlzdGVuZXJzLCDQutC+0YLQvtGA0YvQuSDQtNC+0LHQsNCy0LvRj9C10YIg0YHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLlxuICAvLyDQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0YLQsNC60LbQtSDQt9Cw0LrRgNGL0LLQsNC10YLRgdGPINC/0YDQuCDQutC70LjQutC1INC90LAg0LfQsNGC0LXQvNC90ZHQvdC90YPRjiDQvtCx0LvQsNGB0YLRjCDQstC+0LrRgNGD0LMg0YTQvtGA0LzRiy5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQuNC60L7QvdC60Lgg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAuXG5cbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTsgLy8g0LfQsNC60YDRi9C70Lgg0L/QvtC/0LDQvyDQv9C+INC60L3QvtC/0LrQtSDQt9Cw0LrRgNGL0YLQuNGPXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5LmJpbmQodGhpcykpOyAvLyDQt9Cw0LrRgNGL0LvQuCDQv9C+0L/QsNC/INGH0LXRgNC10Lcg0L7QstC10YDQu9C10LlcbiAgfVxuXG59XG5cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWNhcHRpb24nKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4vL9Ca0YDQvtC80LUg0YHQtdC70LXQutGC0L7RgNCwINC/0L7Qv9Cw0L/QsCDQv9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQutC+0LvQsdGN0Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ0bicpO1xyXG4gIH1cclxuXHJcbiAgLy/QodC+0LTQtdGA0LbQuNGCINC/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0IF9nZXRJbnB1dFZhbHVlcywg0LrQvtGC0L7RgNGL0Lkg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLLlxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIC8vINGB0L7Qt9C00LDRkdC8INC/0YPRgdGC0L7QuSDQvtCx0YrQtdC60YJcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDRjdGC0L7RgiDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjRjyDQstGB0LXRhSDQv9C+0LvQtdC5XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy/Qn9C10YDQtdC30LDQv9C40YHRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0IHNldEV2ZW50TGlzdGVuZXJzXHJcbiAgLy/QntC9INC00L7Qu9C20LXQvSDQvdC1INGC0L7Qu9GM0LrQviDQtNC+0LHQsNCy0LvRj9GC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCDQuNC60L7QvdC60LUg0LfQsNC60YDRi9GC0LjRjyxcclxuICAvLyDQvdC+INC4INC00L7QsdCw0LLQu9GP0YLRjCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdCw0LHQvNC40YLQsCDRhNC+0YDQvNGLLlxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8v0J/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBjbG9zZSwg0YLQsNC6INC60LDQuiDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LAg0YTQvtGA0LzQsCDQtNC+0LvQttC90LAg0LXRidGRINC4INGB0LHRgNCw0YHRi9Cy0LDRgtGM0YHRjy5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdFJlbW92ZSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRSZW1vdmUgPSBoYW5kbGVTdWJtaXRSZW1vdmU7XHJcbiAgfVxyXG5cclxuICBvcGVuKGVsZW1lbnQsIGNhcmRJZCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWRcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0UmVtb3ZlKHRoaXMuX2VsZW1lbnQsIHRoaXMuX2NhcmRJZClcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciAvKnVzZXJJZCovKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLlxyXG4gIC8vINGB0L7QsdC40YDQsNC10YIg0LjQvdGE0L7RgNC80LDRhtC40Y4g0LjQtyDQv9GA0L7RhNC40LvRjyDQuCDQv9C+0LTRgdGC0LDQstC70Y/QtdGCINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIg0YTQvtGA0LzRgyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuC5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgaW5mbzogdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fdXNlckF2YXRhci5zcmMsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZm9ybURhdGE7XHJcbiAgfVxyXG5cclxuICAvL9C80LXRgtC+0LQsINC60L7RgtC+0YDRi9C5INC/0YDQuNC90LjQvNCw0LXRgiDQvdC+0LLRi9C1INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LjQtyDRhNC+0YDQvNGLINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRgyDQsiDQv9GA0L7RhNC40LvRjC5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICB0aGlzLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICAvLyDQvNC10YLQvtC0INC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0YEg0YHQtdGA0LLQtdGA0LBcbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIC8vINC30LDQv9GA0L7RgSDQutCw0YDRgtC+0YfQtdC6XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIGVkaXRVc2VyKGlucHV0RGF0YSkgeyAgLy/QvNC10YLQvtC00L7QvCBQQVRDSFxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxuICAgICAgICBhYm91dDogaW5wdXREYXRhLmluZm9cbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIGFkZE5ld0NhcmQoaW5wdXREYXRhKSB7ICAgIC8v0LzQtdGC0L7QtNC+0LwgUE9TVFxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogaW5wdXREYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGlucHV0RGF0YS5saW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG5cbiAgYWRkTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoaW5wdXREYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogaW5wdXREYXRhLmF2YXRhciwgLy9hdmF0YXJVcmxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MycsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnYTE1MDE2ZDUtYWU5Yy00MzM5LTg0NWQtMzI2OGI3ZmNhYWIyJywgLy/QvNC+0Lkg0YLQvtC60LXQvVxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfVxufSk7XG4iLCJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgZm9ybXNDb25maWcsXG4gIHByb2ZpbGVQb3B1cCxcbiAgZWRpdFByb2ZpbGVCdXR0b24sXG4gIHByb2ZpbGVOYW1lSW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxuICBuZXdDYXJkUG9wdXAsXG4gIG5ld0NhcmRCdXR0b24sXG4gIGxpc3RGb3JDYXJkcyxcbiAgbmV3Q2FyZFRpdGxlSW5wdXQsXG4gIG5ld0NhcmRVcmxJbnB1dCxcbiAgZWRpdEF2YXRhckJ1dHRvbixcbiAgY2hhbmdlQXZhdGFyUG9wdXAsXG59IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnN0YW50cy5qc1wiXG5cbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uUmVtb3ZlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiXG5cbmxldCB1c2VySWQgPSBudWxsO1xuXG4vL9C40YHQv9C+0LvRjNC30YPQtdC8IFByb21pc2UuYWxsINGH0YLQvtCx0Ysg0LTQvtC20LTQsNGC0YzRgdGPINCy0YvQv9C+0LvQvdC10L3QuNGPINC+0LHQvtC40YUg0LfQsNC/0YDQvtGB0L7QsiAtIGdldFVzZXIg0LggZ2V0SW5pdGlhbENhcmRzIClcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlcigpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKS50aGVuKChbZGF0YSwgY2FyZHNdKSA9PiB7XG5cbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gIHVzZXJJZCA9IGRhdGEuX2lkO1xuICBjYXJkcy5mb3JFYWNoKFxuICAgIChpdGVtKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKVxuICAgIH0pO1xufSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgfSk7XG5cblxuLy8g0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjyAtINGE0L7RgNC80LAg0L/RgNC+0YTQuNC70Y8gLSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GPINGBINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LXQvCDQvdCwINGB0LXRgNCy0LXRgFxuLy8g0Lgg0L7RgtC+0LHRgNCw0LbQtdC90LjQtdC8INC90LAg0YHRgtGA0LDQvdC40YbQtSDQsiDRgNCw0LfQtNC10LvQtSDQv9GA0L7RhNC40LvRj1xuY29uc3QgcHJvZmlsZVBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3Byb2ZpbGUnLCAoaW5wdXREYXRhKSA9PiB7XG4gIHByb2ZpbGVQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaS5lZGl0VXNlcihpbnB1dERhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcHJvZmlsZVBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcblxucHJvZmlsZVBvcHVwQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTsgLy8g0LLQtdGI0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60LggKNC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLCBwcmV2ZW50RGVmYXVsdCwg0YHQsdGA0L7RgSDRhNC+0YDQvNGLINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4KVxuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbygnLnByb2ZpbGVfX25hbWUnLCAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJywgJy5wcm9maWxlX19hdmF0YXInKTtcblxuY29uc3QgbmV3Q2FyZFBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX21lc3RvJywgKGlucHV0RGF0YSkgPT4ge1xuICBuZXdDYXJkUG9wdXBDbGFzcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuYWRkTmV3Q2FyZChpbnB1dERhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gbmV3Q2FyZFBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcbm5ld0NhcmRQb3B1cENsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cblxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYXZhdGFyJywgKGlucHV0RGF0YSkgPT4ge1xuICBjaGFuZ2VBdmF0YXJQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gIGFwaS5jaGFuZ2VBdmF0YXIoaW5wdXREYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KTtcblxuY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tINC/0L7Qv9Cw0L8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4IC0tLS0tLS0tLS0tLS0tLy9cblxuY29uc3QgY29uZmlybVJlbW92ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlKCcucG9wdXBfY29uZmlybWF0aW9uLXJlbW92ZScsIChyZW1vdmVDYXJkLCBjYXJkSWQpID0+IHtcbiAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkLCByZW1vdmVDYXJkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHJlbW92ZUNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgIH0pO1xufSk7XG5cbmNvbmZpcm1SZW1vdmVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0L/QvtC/0LDQvyDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQuNC90L7Qui0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3ZpZXcnKTsgLy/Qv9C+0L/QsNC/INC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4XG5cbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIG9wZW5QcmV2aWV3UG9wdXAobmFtZSwgbGluaykge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufVxuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLdGB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCAo0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCBDYXJkINCyINGB0L7Rh9C10YLQsNC90LjQuCDRgSDQu9Cw0LnQui/QvtGE0YTQu9Cw0LnQuiApIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcuY2FyZC10ZW1wbGF0ZScsIG9wZW5QcmV2aWV3UG9wdXAsIHVzZXJJZCxcbiAgICAoY2FyZElkLCBlbGVtZW50KSA9PiBjb25maXJtUmVtb3ZlUG9wdXAub3BlbihlbGVtZW50LCBjYXJkSWQpLFxuICAgIChjYXJkSWQpID0+IHtcbiAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZClcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICBjYXJkLmxpa2VDbGlja0NvdW50KGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIChjYXJkSWQpID0+IHtcbiAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgY2FyZC5saWtlQ2xpY2tDb3VudChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSk7XG4gICAgfVxuICApO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuY3JlYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8v0YPQsdC40YDQsNC10Lwg0LfQsNCz0L7RgtC+0LLQu9C10L3QvdGL0Lkg0YHQv9C40YHQvtC6INC60LDRgNGC0L7Rh9C10LogaW5pdGlhbENhcmRzINC4INC+0YHRgtCw0LLQu9GP0LXQvCDQv9GD0YHRgtC+0Lkg0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIgLSBpdGVtczogW11cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgaXRlbXM6IFtdLFxuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkKTtcbiAgfVxufSwgbGlzdEZvckNhcmRzXG4pO1xuXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcblxuLy8tLS0tLS0tLS0tLS0tLS3Qv9C+0LTQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQuiDRhNC+0YDQvNC1INC/0YDQvtGE0LjQu9GPLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8tLS0tLS0tLS0tLS0tLS0t0YfQtdGA0LXQtyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBwcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybXNDb25maWcsIHByb2ZpbGVQb3B1cCk7XG5wcm9maWxlVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8tLS0tLS0tLS0t0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0Log0YTQvtGA0LzQtSDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuC0tLS0tLS0tLS0tLS0tLS0tXG4vLy0tLS0tLS0tLS0tLS0g0YfQtdGA0LXQtyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IG5ld0NhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgbmV3Q2FyZFBvcHVwKTtcbm5ld0NhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLy0tLS0tLS0tLS0tLS3Qv9C+0LTQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQuiDRhNC+0YDQvNC1INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4LS0tLS0tLS0tLS0tLS1cbmNvbnN0IGF2YXRhclZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1zQ29uZmlnLCBjaGFuZ2VBdmF0YXJQb3B1cCk7XG5hdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3RgdC70YPRiNCw0YLQtdC70LgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8v0YHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjyDQv9C+INC60L3QvtC/0LrQtSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcHJvZmlsZVBvcHVwQ2xhc3Mub3BlbigpO1xuICBjb25zdCB1c2VyR2V0RGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSB1c2VyR2V0RGF0YS5uYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJHZXREYXRhLmluZm87XG4gIHByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59XG4pO1xuXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LAg0L/RgNC+0YTQuNC70Y9cbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNoYW5nZUF2YXRhclBvcHVwQ2xhc3Mub3BlbigpO1xuICBhdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4INC/0L4g0LrQvdC+0L/QutC1XG5uZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuZXdDYXJkUG9wdXBDbGFzcy5vcGVuKCk7XG4gIG5ld0NhcmRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuXG4iXSwibmFtZXMiOlsiZm9ybXNDb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlUG9wdXAiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJuZXdDYXJkUG9wdXAiLCJuZXdDYXJkQnV0dG9uIiwibGlzdEZvckNhcmRzIiwiY2hhbmdlQXZhdGFyUG9wdXAiLCJlZGl0QXZhdGFyQnV0dG9uIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwib3BlblByZXZpZXdQb3B1cCIsInVzZXJJZCIsIm9wZW5Db25maXJtYXRpb25SZW1vdmUiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnR5IiwiX3VzZXJJZCIsIl9vd25lcklkIiwiX3dhc3RlYmFza2V0QnV0dG9uIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vcGVuQ29uZmlybWF0aW9uUmVtb3ZlIiwiX2NhcmRJZCIsIl9saWtlQnV0dG9uIiwiX2NoZWNrTGlrZVVzZXIiLCJfZGVsZXRlTGlrZSIsImNsYXNzTGlzdCIsIl9hZGRMaWtlIiwiYWRkIiwiX2NhcmRJbWFnZSIsIl9vcGVuUHJldmlld1BvcHVwIiwiX25hbWUiLCJfbGluayIsInRoaXMiLCJuYW1lIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwib3duZXIiLCJfaWQiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwia2V5IiwidmFsdWUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VDb3VudCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX3RoaXMyIiwic29tZSIsImxpa2UiLCJzcmMiLCJhbHQiLCJfY2hlY2tXYXN0ZWJhc2tldEJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImlucHV0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiY29uY2F0IiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0IiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlZFN1Ym1pdEJ1dHRvbiIsIl9idXR0b25FbGVtZW50IiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwic2V0QXR0cmlidXRlIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfcG9wdXBDbG9zZUJ1dHRvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbG9zZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJfY2xvc2VPdmVybGF5IiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwiX3ByZXZpZXdJbWFnZSIsIl9pbWFnZUNhcHRpb24iLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9mb3JtVmFsdWVzIiwiX3RoaXMzIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlzTG9hZGluZyIsIlBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlIiwiaGFuZGxlU3VibWl0UmVtb3ZlIiwiX2hhbmRsZVN1Ym1pdFJlbW92ZSIsImNhcmRJZCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiaW5mb1NlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckluZm8iLCJfdXNlckF2YXRhciIsImluZm8iLCJhdmF0YXIiLCJhYm91dCIsImFwaSIsIkFwaSIsIm9wdGlvbnMiLCJ1cmwiLCJiYXNlVXJsIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJpbnB1dERhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VyIiwiZ2V0SW5pdGlhbENhcmRzIiwiX3JlZjIiLCJjYXJkcyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInByb2ZpbGVQb3B1cENsYXNzIiwicmVuZGVyTG9hZGluZyIsImVkaXRVc2VyIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwibmV3Q2FyZFBvcHVwQ2xhc3MiLCJhZGROZXdDYXJkIiwiY2hhbmdlQXZhdGFyUG9wdXBDbGFzcyIsImNoYW5nZUF2YXRhciIsImNvbmZpcm1SZW1vdmVQb3B1cCIsInJlbW92ZUNhcmQiLCJkZWxldGVDYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwiY2FyZCIsImxpa2VDbGlja0NvdW50IiwicmVuZGVySXRlbXMiLCJwcm9maWxlVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsIm5ld0NhcmRWYWxpZGF0b3IiLCJhdmF0YXJWYWxpZGF0b3IiLCJ1c2VyR2V0RGF0YSIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==