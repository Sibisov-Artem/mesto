(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},e=document.querySelector(".page").querySelector(".content").querySelector(".profile"),n=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),r=(e.querySelector(".profile__name"),e.querySelector(".profile__description"),e.querySelector(".profile__edit-btn")),o=(n.querySelector(".popup__form_profile"),n.querySelector(".popup__input_el_name")),i=n.querySelector(".popup__input_el_description"),u=document.querySelector(".popup_mesto"),c=e.querySelector(".profile__add-btn"),a=document.querySelector(".place__grid"),l=(document.querySelector(".popup__form_mesto"),document.querySelector(".popup__input_el_mesto-title"),document.querySelector(".popup__input_el_mesto-url"),document.querySelector(".popup_avatar")),s=document.querySelector(".profile__avatar-wrapper");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function y(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e,n,r,o,i,u,c){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"_checkWastebasketButton",(function(){a._userId!==a._ownerId&&a._wastebasketButton.remove()})),y(this,"_setEventListeners",(function(){a._wastebasketButton.addEventListener("click",(function(){a._openConfirmationRemove(a._cardId,a)})),a._likeButton=a._element.querySelector(".place__like-btn"),a._likeButton.addEventListener("click",(function(){a._likes.some((function(t){return t._id===a._userId}))?(a._deleteLike(a._cardId),a._likeButton.classList.remove("place__like-btn_active")):(a._addLike(a._cardId),a._likeButton.classList.add("place__like-btn_active"))})),a._cardImage.addEventListener("click",(function(){a._openPreviewPopup(a._name,a._link)}))})),this._name=e.name,this._link=e.link,this._likes=e.likes,this._addLike=u,this._deleteLike=c,this._ownerId=e.owner._id,this._cardId=e._id,this._templateSelector=n,this._openPreviewPopup=r,this._openConfirmationRemove=i,this._userId=o,this._element=this._getTemplate(),this._wastebasketButton=this._element.querySelector(".place__wastebasket-btn")}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place__card").cloneNode(!0)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"likeClickCount",value:function(t){this._likes=t.likes,this._likeCount.textContent=this._likes.length}},{key:"createCard",value:function(){return this._element.querySelector(".place__title").textContent=this._name,this._cardImage=this._element.querySelector(".place__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount=this._element.querySelector(".place__like-count"),this._likeCount.textContent=this._likes.length,this._checkWastebasketButton(),this._setEventListeners(),this._element}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function b(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===h(e)?e:String(e)}var S=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e,n.classList.add(r._errorClass)})),b(this,"_hideInputError",(function(t){var e=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(r._inputErrorClass),e.classList.remove(r._errorClass),e.textContent=""})),b(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._disabledSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled","true"))})),b(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners(),r._disabledSubmitButton()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._disabledSubmitButton(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_disabledSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var k=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._popupCloseButton=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closeOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupCloseButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("mousedown",this._closeOverlay.bind(this))}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._previewImage=e._popup.querySelector(".popup__image"),e._imageCaption=e._popup.querySelector(".popup__image-caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._previewImage.src=e,this._previewImage.alt=t,this._imageCaption.textContent=t,L(q(u.prototype),"open",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submitButton=n._form.querySelector(".popup__submit-btn"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){A(V(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=!0===t?"Сохранение...":"Сохранить"}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},J.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(r);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._form=n._popup.querySelector(".popup__form"),n._handleSubmitRemove=e,n}return e=u,(n=[{key:"open",value:function(t,e){J(H(u.prototype),"open",this).call(this),this._element=t,this._cardId=e}},{key:"setEventListeners",value:function(){var t=this;J(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitRemove(t._element,t._cardId),t.close()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}var $=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userInfo=document.querySelector(n),this._userAvatar=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,info:this._userInfo.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userInfo.textContent=t.about,this._userAvatar.src=t.avatar}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===G(o)?o:String(o)),r)}var o}var Q=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.baseUrl,this.headers=e.headers}var e,n;return e=t,(n=[{key:"getUser",value:function(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"editUser",value:function(t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t.name,about:t.info})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addNewCard",value:function(t){return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteLike",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"changeAvatar",value:function(t){return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t.avatar})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{authorization:"a15016d5-ae9c-4339-845d-3268b7fcaab2","Content-Type":"application/json"}});function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=null;Promise.all([Q.getUser(),Q.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];tt.setUserInfo(o),Y=o._id,i.forEach((function(t){ct.addItem(ut(t))}))})).catch((function(t){console.log(t)}));var Z=new U(".popup_profile",(function(t){Z.renderLoading(!0),Q.editUser(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return Z.renderLoading(!1)}))}));Z.setEventListeners();var tt=new $(".profile__name",".profile__description",".profile__avatar"),et=new U(".popup_mesto",(function(t){et.renderLoading(!0),Q.addNewCard(t).then((function(t){ct.addItem(ut(t))})).catch((function(t){console.log(t)})).finally((function(){return et.renderLoading(!1)}))}));et.setEventListeners();var nt=new U(".popup_avatar",(function(t){nt.renderLoading(!0),Q.changeAvatar(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return nt.renderLoading(!1)}))}));nt.setEventListeners();var rt=new M(".popup_confirmation-remove",(function(t,e){Q.deleteCard(e,t).then((function(){t.deleteCard()})).catch((function(t){console.log(t)}))}));rt.setEventListeners();var ot=new T(".popup_view");function it(t,e){ot.open(t,e)}function ut(t){var e=new d(t,".card-template",it,Y,(function(t,e){return rt.open(e,t)}),(function(t){Q.addLike(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}),(function(t){Q.deleteLike(t).then((function(t){e.likeClickCount(t)})).catch((function(t){console.log(t)}))}));return e.createCard()}ot.setEventListeners();var ct=new k({items:[],renderer:function(t){var e=ut(t);ct.addItem(e)}},a);ct.renderItems();var at=new S(t,n);at.enableValidation();var lt=new S(t,u);lt.enableValidation();var st=new S(t,l);st.enableValidation(),r.addEventListener("click",(function(){Z.open();var t=tt.getUserInfo();o.value=t.name,i.value=t.info,at.resetValidation()})),s.addEventListener("click",(function(){nt.open(),st.resetValidation()})),c.addEventListener("click",(function(){et.open(),lt.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uUmVtb3ZlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsXHJcbiAgZm9ybXNDb25maWcsXHJcbiAgcGFnZSxcclxuICBjb250ZW50LFxyXG4gIHByb2ZpbGUsXHJcbiAgcHJvZmlsZVBvcHVwLFxyXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxyXG4gIHByb2ZpbGVOYW1lSW5wdXQsXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXHJcbiAgbmV3Q2FyZFBvcHVwLFxyXG4gIG5ld0NhcmRCdXR0b24sXHJcbiAgbGlzdEZvckNhcmRzLFxyXG4gIG5ld0NhcmRGb3JtLFxyXG4gIG5ld0NhcmRUaXRsZUlucHV0LFxyXG4gIG5ld0NhcmRVcmxJbnB1dCxcclxuICBlZGl0QXZhdGFyQnV0dG9uLFxyXG4gIGNoYW5nZUF2YXRhclBvcHVwLFxyXG59XHJcblxyXG4vL9C90LDQsdC+0YAg0LrQsNGA0YLQvtGH0LXQuiDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRj1xyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgfVxyXG5dO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyDQvtCx0YrQtdC60YIg0LrQu9Cw0YHRgdC+0LIg0LTQu9GPINC/0YDQuNC10LzQsCDQuiDRhNGD0L3QutGG0LjQuCBlbmFibGVWYWxpZGF0aW9uXHJcbmNvbnN0IGZvcm1zQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsIC8vINGE0L7RgNC80LBcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsIC8v0L/QvtC70LVcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0LWJ0bicsIC8v0LrQvdC+0L/QutCwINGB0L7RhdGA0LDQvdC40YLRjC/RgdC+0LfQtNCw0YLRjFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc3VibWl0LWJ0bl9kaXNhYmxlZCcsIC8vINC90LXQsNC60YLQuNCy0L3QsNGPINC60L3QvtC/0LrQsFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJywgLy8gaW5wdXQg0LLRi9C00LXQu9C10L3QuNC1INC/0L7Qu9GPINC60YDQsNGB0L3QvtC5INC70LjQvdC40LXQuSwg0L/QvtC60LDQt9GL0LLQsNGPINGH0YLQviDQtdGB0YLRjCDQvtGI0LjQsdC60LAg0LLQsNC70LjQtNCw0YbQuNC4XHJcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnIC8vINC00LXQu9Cw0LXQvCDRgtC10LrRgdGCINC+0YjQuNCx0LrQuCDQsiBzcGFuINC/0L7QtCBpbnB1dCfQvtC8INCy0LjQtNC40LzRi9C8INC30LAg0YHRh9C10YIgb3BhY2l0eToxXHJcbn1cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlJyk7XHJcbmNvbnN0IGNvbnRlbnQgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XHJcbmNvbnN0IHByb2ZpbGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XHJcbmNvbnN0IHBvcHVwQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJyk7IC8vINC40YHQv9C+0LvRjNC30YPRjiDQtNC70Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+INC+0LLQtdGA0LvQtdGOXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70YwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9wcm9maWxlJyk7IC8v0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTsgLy/QuNC80Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTsgLy/QvtC/0LjRgdCw0L3QuNC1INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idG4nKTsgIC8v0LrQvdC+0L/QutCwINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fcHJvZmlsZScpOyAvL9GE0L7RgNC80LAg0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBwcm9maWxlTmFtZUlucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfbmFtZScpOyAvL9C/0L7Qu9C1INC40LzQtdC90Lgg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9lbF9kZXNjcmlwdGlvbicpOyAvL9C/0L7Qu9C1INC+0L/QuNGB0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdC/0L7Qv9Cw0L8g0YHQvtC30LTQsNC90LjRjyDQvdCy0L7QvtC5INC60LDRgNGC0L7Rh9C60LgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX21lc3RvJyk7IC8v0L/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvNC10YHRgtCwXHJcbmNvbnN0IG5ld0NhcmRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnRuJyk7IC8v0LrQvdC+0L/QutCwINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvNC10YHRgtCwXHJcblxyXG5jb25zdCBsaXN0Rm9yQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2dyaWQnKTsgLy8g0YHQv9C40YHQvtC6LCDQstC90YPRgtGA0Ywg0LrQvtGC0L7RgNC+0LPQviDQsdGD0LTRg9GCINCy0YHRgtCw0LLQsNGC0Ywg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBuZXdDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV9tZXN0bycpOyAvL9GE0L7RgNC80LAg0L/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvNC10YHRgtCwXHJcbmNvbnN0IG5ld0NhcmRUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9lbF9tZXN0by10aXRsZScpOyAvL9C/0L7Qu9C1INC40LzQtdC90Lgg0LzQtdGB0YLQsFxyXG5jb25zdCBuZXdDYXJkVXJsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2VsX21lc3RvLXVybCcpOyAvL9C/0L7Qu9C1INCw0LTRgNC10YHQsCDQutCw0YDRgtC40L3QutC4XHJcblxyXG5jb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hdmF0YXInKTsgLy/Qv9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci13cmFwcGVyJyk7IC8v0LrQvdC+0L/QutCwINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIG9wZW5QcmV2aWV3UG9wdXAsIHVzZXJJZCwgb3BlbkNvbmZpcm1hdGlvblJlbW92ZSwgYWRkTGlrZSwgZGVsZXRlTGlrZSkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7ICAvLyDQu9Cw0LnQutC4INGBINGB0LXRgNCy0LXRgNCwINC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LTQu9C40L3RiyDQvNCw0YHRgdC40LLQsCDQu9Cw0LnQutC+0LIgLSDQutC+0LvQstCwXG4gICAgdGhpcy5fYWRkTGlrZSA9IGFkZExpa2U7XG4gICAgdGhpcy5fZGVsZXRlTGlrZSA9IGRlbGV0ZUxpa2U7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkOyAvL2lkINGA0LDQt9C80LXRgdGC0LjQstGI0LXQs9C+INC60LDRgNGC0L7Rh9C60YMsINCy0LvQsNC00LXQu9C10YYg0LrQsNGA0YLQuNC90LrQuFxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkOyAvL2lkINC60LDRgNGC0L7Rh9C60LhcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9vcGVuUHJldmlld1BvcHVwID0gb3BlblByZXZpZXdQb3B1cDsgLy8g0LTQu9GPINC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4XG4gICAgdGhpcy5fb3BlbkNvbmZpcm1hdGlvblJlbW92ZSA9IG9wZW5Db25maXJtYXRpb25SZW1vdmU7ICAvLyDQtNC70Y8g0L/QvtC/0LDQv9CwINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDsgLy9faWQg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7ICAvL9C60LDRgNGC0L7Rh9C60LBcbiAgICB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX193YXN0ZWJhc2tldC1idG4nKTtcbiAgfVxuXG4gIC8v0YHQvtC30LTQsNC90LjQtSDQutC+0L/QuNC4IHRlbXBsYXRlXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2NhcmQnKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgbGlrZUNsaWNrQ291bnQoZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfY2hlY2tXYXN0ZWJhc2tldEJ1dHRvbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XG4gICAgICB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbi5yZW1vdmUoKVxuICAgIH1cblxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIC8vINC00LvRjyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0LjQvdC60LhcbiAgICAvLyB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX193YXN0ZWJhc2tldC1idG4nKTtcbiAgICB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX29wZW5Db25maXJtYXRpb25SZW1vdmUodGhpcy5fY2FyZElkLCB0aGlzKTtcbiAgICB9KTtcblxuICAgIC8v0L/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70Ywg0LvQsNC50LrQvtCyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19saWtlLWJ0bicpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcbiAgICAgICAgdGhpcy5fZGVsZXRlTGlrZSh0aGlzLl9jYXJkSWQpO1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYWNlX19saWtlLWJ0bl9hY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZExpa2UodGhpcy5fY2FyZElkKTtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwbGFjZV9fbGlrZS1idG5fYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL9C/0YDQvtGB0LzQvtGC0YAg0LrQsNGA0YLQuNC90LrQuCDQsiDQv9C+0L/QsNC/0LVcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuUHJldmlld1BvcHVwKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXG4gICAgfSk7XG4gIH1cblxuICAvL9GB0L7Qt9C00LDQtdC8INC4INC30LDQv9C+0LvQvdGP0LXQvCDQutCw0YDRgtC+0YfQutGDXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lOyAvLyDQvdCw0LfQstCw0L3QuNC1INC60LDRgNGC0LjQvdC60LggKHRpdGxlKVxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rOyAvL9GB0YHRi9C70LrQsCDQvdCwINC60LDRgNGC0LjQvdC60YNcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTsgLy9hbHQg0L7Qv9C40YHQsNC90LjQtSDQuiDQutCw0YDRgtC40L3QutC1XG5cbiAgICAvL9GB0YfQtdGC0YfQuNC6INC70LDQudC60L7QslxuICAgIHRoaXMuX2xpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1jb3VudFwiKTtcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7IC8v0LrQvtC7LdCy0L4g0LvQsNC50LrQvtCyINGB0YLQsNCy0LjRgtGB0Y8g0LjQtyDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LAtINC/0L4g0LTQu9C40L3QtSDQvNCw0YHRgdC40LLQsCDQu9Cw0LnQutC+0LJcbiAgICB0aGlzLl9jaGVja1dhc3RlYmFza2V0QnV0dG9uKCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1zQ29uZmlnLCBmb3JtRWxlbWVudCkge1xuXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGZvcm1zQ29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBmb3Jtc0NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZm9ybXNDb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBmb3Jtc0NvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGZvcm1zQ29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIH1cblxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60LggKNC60YDQsNGB0L3Ri9C5INGC0LXQutGB0YIg0Lgg0LrRgNCw0YHQvdCw0Y8g0LvQuNC90LjRjyDQsiDQv9C+0LvQtSlcbiAgLy9lcnJvckVsZW1lbnQgLSDRjdGC0L4g0YHQvtC+0YLQstC10YLRgdCy0YPRjtGJ0LjQuSDQutC70LDRgdGBIHNwYW4nYSDQvtC/0YDQtdC00LXQu9C10L3QvdC+0LPQviDQv9C+0LvRj1xuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTsgLy8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQutC70LDRgdGB0LAg0LTQu9GPINC40L3Qv9GD0YLQsCDRgSDQutGA0LDRgdC90L7QuSDQu9C40L3QuNC10LlcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7IC8v0YLQtdC60YHRgiDQtNC70Y8g0YHQv9Cw0L3QsCDQuNC3INGB0YLQsNC90LTQsNGA0YLQvdC+0Lkg0LHRgNCw0YPQt9C10YDQvdC+0Lkg0L7RiNC40LHQutC4XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7IC8vINC00LXQu9Cw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7RiNC40LHQutC4INCy0LjQtNC40LzRi9C8INC00L7QsdCw0LLQu9C10L3QuNC10Lwg0LrQu9Cw0YHRgdGDINC6INC40L3Qv9GD0YLRg1xuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0YHQutGA0YvRgtC40Y8g0L/QvtC70Y8g0YEg0L7RiNC40LHQutC+0Lkg0Lgg0L/QvtC60LDQt9CwINC+0YjQuNCx0LrQuFxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRj1xuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNC60Lgg0LjQvdC/0YPRgtC+0LIg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjFxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0L7RgdGC0L7QvdC40Y8g0LrQvdC+0L/QutC4XG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVkU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0L7RiNC40LHQvtC6INC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC60L3QvtC/0LrQvtC5XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINC+0YLQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuCDRgdCw0LHQvNC40YLQsCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LBcbiAgX2Rpc2FibGVkU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICB9XG5cbiAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0L/QvtC70LXQuSDRhNC+0YDQvFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b24oKTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgcmVuZGVySXRlbXMsINC60L7RgtC+0YDRi9C5INC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0YDQuNGB0L7QstC60YMg0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyLlxyXG4gIC8vINCe0YLRgNC40YHQvtCy0LrQsCDQutCw0LbQtNC+0LPQviDQvtGC0LTQtdC70YzQvdC+0LPQviDRjdC70LXQvNC10L3RgtCwINC00L7Qu9C20L3QsCDQvtGB0YPRidC10YHRgtCy0LvRj9GC0YzRgdGPINGE0YPQvdC60YbQuNC10LkgcmVuZGVyZXJcclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTsgLy8g0LLRi9C30YvQstCw0LXQvCByZW5kZXJlciwg0L/QtdGA0LXQtNCw0LIgaXRlbVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgYWRkSXRlbSwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgC5cclxuXHJcbiAgLy/QoyDQutC70LDRgdGB0LAgU2VjdGlvbiDQvdC10YIg0YHQstC+0LXQuSDRgNCw0LfQvNC10YLQutC4LiDQntC9INC/0L7Qu9GD0YfQsNC10YIg0YDQsNC30LzQtdGC0LrRgyDRh9C10YDQtdC3INGE0YPQvdC60YbQuNGOLdC60L7Qu9Cx0Y3QuiDQuCDQstGB0YLQsNCy0LvRj9C10YIg0LXRkSDQsiDQutC+0L3RgtC10LnQvdC10YAuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idG4nKTtcblxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0LUg0LzQtdGC0L7QtNGLIG9wZW4g0LggY2xvc2UsINC60L7RgtC+0YDRi9C1INC+0YLQstC10YfQsNGO0YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwLlxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIC8v0L/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQgX2hhbmRsZUVzY0Nsb3NlLCDQutC+0YLQvtGA0YvQuSDRgdC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutC70LDQstC40YjQtdC5IEVzYy5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LrQu9C40LrQvtC8INC90LAg0L7QstC10YDQu9C10LlcbiAgX2Nsb3NlT3ZlcmxheShldnQpIHtcblxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVycywg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsC5cbiAgLy8g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INGC0LDQutC20LUg0LfQsNC60YDRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC30LDRgtC10LzQvdGR0L3QvdGD0Y4g0L7QsdC70LDRgdGC0Ywg0LLQvtC60YDRg9CzINGE0L7RgNC80YsuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8v0YHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0LjQutC+0L3QutC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLlxuXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7IC8vINC30LDQutGA0YvQu9C4INC/0L7Qv9Cw0L8g0L/QviDQutC90L7Qv9C60LUg0LfQsNC60YDRi9GC0LjRj1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2Nsb3NlT3ZlcmxheS5iaW5kKHRoaXMpKTsgLy8g0LfQsNC60YDRi9C70Lgg0L/QvtC/0LDQvyDRh9C10YDQtdC3INC+0LLQtdGA0LvQtdC5XG4gIH1cblxufVxuXG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy/QmtGA0L7QvNC1INGB0LXQu9C10LrRgtC+0YDQsCDQv9C+0L/QsNC/0LAg0L/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YsuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idG4nKTtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC00LXRgNC20LjRgiDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCBfZ2V0SW5wdXRWYWx1ZXMsINC60L7RgtC+0YDRi9C5INGB0L7QsdC40YDQsNC10YIg0LTQsNC90L3Ri9C1INCy0YHQtdGFINC/0L7Qu9C10Lkg0YTQvtGA0LzRiy5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LIg0Y3RgtC+0YIg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40Y8g0LLRgdC10YUg0L/QvtC70LXQuVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIC8v0J/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVyc1xyXG4gIC8v0J7QvSDQtNC+0LvQttC10L0g0L3QtSDRgtC+0LvRjNC60L4g0LTQvtCx0LDQstC70Y/RgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8sXHJcbiAgLy8g0L3QviDQuCDQtNC+0LHQsNCy0LvRj9GC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9Cf0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xvc2UsINGC0LDQuiDQutCw0Log0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwINGE0L7RgNC80LAg0LTQvtC70LbQvdCwINC10YnRkSDQuCDRgdCx0YDQsNGB0YvQstCw0YLRjNGB0Y8uXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvblJlbW92ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRSZW1vdmUpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0UmVtb3ZlID0gaGFuZGxlU3VibWl0UmVtb3ZlO1xyXG4gIH1cclxuXHJcbiAgb3BlbihlbGVtZW50LCBjYXJkSWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdFJlbW92ZSh0aGlzLl9lbGVtZW50LCB0aGlzLl9jYXJkSWQpXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgLyp1c2VySWQqLykge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy5cclxuICAvLyDRgdC+0LHQuNGA0LDQtdGCINC40L3RhNC+0YDQvNCw0YbQuNGOINC40Lcg0L/RgNC+0YTQuNC70Y8g0Lgg0L/QvtC00YHRgtCw0LLQu9GP0LXRgiDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCyINGE0L7RgNC80YMg0L/RgNC4INC+0YLQutGA0YvRgtC40LguXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGluZm86IHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40Lcg0YTQvtGA0LzRiyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LIg0L/RgNC+0YTQuNC70YwuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy51cmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwXG4gIGdldFVzZXIoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICAvLyDQt9Cw0L/RgNC+0YEg0LrQsNGA0YLQvtGH0LXQulxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBlZGl0VXNlcihpbnB1dERhdGEpIHsgIC8v0LzQtdGC0L7QtNC+0LwgUEFUQ0hcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBpbnB1dERhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGlucHV0RGF0YS5pbmZvXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBhZGROZXdDYXJkKGlucHV0RGF0YSkgeyAgICAvL9C80LXRgtC+0LTQvtC8IFBPU1RcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBpbnB1dERhdGEubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gIH1cblxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG5cbiAgY2hhbmdlQXZhdGFyKGlucHV0RGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGlucHV0RGF0YS5hdmF0YXIsIC8vYXZhdGFyVXJsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjMnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2ExNTAxNmQ1LWFlOWMtNDMzOS04NDVkLTMyNjhiN2ZjYWFiMicsIC8v0LzQvtC5INGC0L7QutC10L1cbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuIiwiXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIGZvcm1zQ29uZmlnLFxuICBwcm9maWxlUG9wdXAsXG4gIGVkaXRQcm9maWxlQnV0dG9uLFxuICBwcm9maWxlTmFtZUlucHV0LFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgbmV3Q2FyZFBvcHVwLFxuICBuZXdDYXJkQnV0dG9uLFxuICBsaXN0Rm9yQ2FyZHMsXG4gIG5ld0NhcmRUaXRsZUlucHV0LFxuICBuZXdDYXJkVXJsSW5wdXQsXG4gIGVkaXRBdmF0YXJCdXR0b24sXG4gIGNoYW5nZUF2YXRhclBvcHVwLFxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb25zdGFudHMuanNcIlxuXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cENvbmZpcm1hdGlvblJlbW92ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvblJlbW92ZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIlxuXG5sZXQgdXNlcklkID0gbnVsbDtcblxuLy/QuNGB0L/QvtC70YzQt9GD0LXQvCBQcm9taXNlLmFsbCDRh9GC0L7QsdGLINC00L7QttC00LDRgtGM0YHRjyDQstGL0L/QvtC70L3QtdC90LjRjyDQvtCx0L7QuNGFINC30LDQv9GA0L7RgdC+0LIgLSBnZXRVc2VyINC4IGdldEluaXRpYWxDYXJkcyApXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXIoKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSkudGhlbigoW2RhdGEsIGNhcmRzXSkgPT4ge1xuXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICB1c2VySWQgPSBkYXRhLl9pZDtcbiAgY2FyZHMuZm9yRWFjaChcbiAgICAoaXRlbSkgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSlcbiAgICB9KTtcbn0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gIH0pO1xuXG5cbi8vINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y8gLSDRhNC+0YDQvNCwINC/0YDQvtGE0LjQu9GPIC0g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQv9GA0L7RhNC40LvRjyDRgSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC10Lwg0L3QsCDRgdC10YDQstC10YBcbi8vINC4INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LIg0YDQsNC30LTQtdC70LUg0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHByb2ZpbGVQb3B1cENsYXNzID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9wcm9maWxlJywgKGlucHV0RGF0YSkgPT4ge1xuICBwcm9maWxlUG9wdXBDbGFzcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuZWRpdFVzZXIoaW5wdXREYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHByb2ZpbGVQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcoZmFsc2UpKVxufSk7XG5cbnByb2ZpbGVQb3B1cENsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vINCy0LXRiNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4ICjQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCwgcHJldmVudERlZmF1bHQsINGB0LHRgNC+0YEg0YTQvtGA0LzRiyDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuClcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oJy5wcm9maWxlX19uYW1lJywgJy5wcm9maWxlX19kZXNjcmlwdGlvbicsICcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbmNvbnN0IG5ld0NhcmRQb3B1cENsYXNzID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9tZXN0bycsIChpbnB1dERhdGEpID0+IHtcbiAgbmV3Q2FyZFBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLmFkZE5ld0NhcmQoaW5wdXREYXRhKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IG5ld0NhcmRQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcoZmFsc2UpKVxufSk7XG5uZXdDYXJkUG9wdXBDbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdC/0L7Qv9Cw0L8g0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG5cbmNvbnN0IGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2F2YXRhcicsIChpbnB1dERhdGEpID0+IHtcbiAgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuY2hhbmdlQXZhdGFyKGlucHV0RGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBjaGFuZ2VBdmF0YXJQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcoZmFsc2UpKVxufSk7XG5cbmNoYW5nZUF2YXRhclBvcHVwQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDQv9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCAtLS0tLS0tLS0tLS0tLS8vXG5cbmNvbnN0IGNvbmZpcm1SZW1vdmVQb3B1cCA9IG5ldyBQb3B1cENvbmZpcm1hdGlvblJlbW92ZSgnLnBvcHVwX2NvbmZpcm1hdGlvbi1yZW1vdmUnLCAocmVtb3ZlQ2FyZCwgY2FyZElkKSA9PiB7XG4gIGFwaS5kZWxldGVDYXJkKGNhcmRJZCwgcmVtb3ZlQ2FyZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICByZW1vdmVDYXJkLmRlbGV0ZUNhcmQoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICB9KTtcbn0pO1xuXG5jb25maXJtUmVtb3ZlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdC/0L7Qv9Cw0L8g0L/RgNC+0YHQvNC+0YLRgNCwINC60LDRgNGC0LjQvdC+0LotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF92aWV3Jyk7IC8v0L/QvtC/0LDQvyDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQuNC90LrQuFxuXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuUHJldmlld1BvcHVwKG5hbWUsIGxpbmspIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn1cblxuXG4vLy0tLS0tLS0tLS0tLS0tLS3RgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60LggKNGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgQ2FyZCDQsiDRgdC+0YfQtdGC0LDQvdC40Lgg0YEg0LvQsNC50Lov0L7RhNGE0LvQsNC50LogKSAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCAnLmNhcmQtdGVtcGxhdGUnLCBvcGVuUHJldmlld1BvcHVwLCB1c2VySWQsXG4gICAgKGNhcmRJZCwgZWxlbWVudCkgPT4gY29uZmlybVJlbW92ZVBvcHVwLm9wZW4oZWxlbWVudCwgY2FyZElkKSxcbiAgICAoY2FyZElkKSA9PiB7XG4gICAgICBhcGkuYWRkTGlrZShjYXJkSWQpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgY2FyZC5saWtlQ2xpY2tDb3VudChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAoY2FyZElkKSA9PiB7XG4gICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgIGNhcmQubGlrZUNsaWNrQ291bnQoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXG4gICAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmNyZWF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vL9GD0LHQuNGA0LDQtdC8INC30LDQs9C+0YLQvtCy0LvQtdC90L3Ri9C5INGB0L/QuNGB0L7QuiDQutCw0YDRgtC+0YfQtdC6IGluaXRpYWxDYXJkcyDQuCDQvtGB0YLQsNCy0LvRj9C10Lwg0L/Rg9GB0YLQvtC5INC80LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyIC0gaXRlbXM6IFtdXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7XG4gIGl0ZW1zOiBbXSxcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZCk7XG4gIH1cbn0sIGxpc3RGb3JDYXJkc1xuKTtcblxuY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG5cbi8vLS0tLS0tLS0tLS0tLS0t0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0Log0YTQvtGA0LzQtSDQv9GA0L7RhNC40LvRjy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vLS0tLS0tLS0tLS0tLS0tLdGH0LXRgNC10Lcg0YHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgRm9ybVZhbGlkYXRvci0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcHJvZmlsZVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1zQ29uZmlnLCBwcm9maWxlUG9wdXApO1xucHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vLS0tLS0tLS0tLdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INC6INGE0L7RgNC80LUg0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgtLS0tLS0tLS0tLS0tLS0tLVxuLy8tLS0tLS0tLS0tLS0tINGH0LXRgNC10Lcg0YHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgRm9ybVZhbGlkYXRvci0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBuZXdDYXJkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybXNDb25maWcsIG5ld0NhcmRQb3B1cCk7XG5uZXdDYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8tLS0tLS0tLS0tLS0t0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0Log0YTQvtGA0LzQtSDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuC0tLS0tLS0tLS0tLS0tXG5jb25zdCBhdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgY2hhbmdlQXZhdGFyUG9wdXApO1xuYXZhdGFyVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0YHQu9GD0YjQsNGC0LXQu9C4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL9GB0LvRg9GI0LDRgtC10LvRjCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y8g0L/QviDQutC90L7Qv9C60LUg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHByb2ZpbGVQb3B1cENsYXNzLm9wZW4oKTtcbiAgY29uc3QgdXNlckdldERhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gdXNlckdldERhdGEubmFtZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyR2V0RGF0YS5pbmZvO1xuICBwcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufVxuKTtcblxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0YDQvtGE0LjQu9GPXG5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjaGFuZ2VBdmF0YXJQb3B1cENsYXNzLm9wZW4oKTtcbiAgYXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8v0YHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQv9C+INC60L3QvtC/0LrQtVxubmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3Q2FyZFBvcHVwQ2xhc3Mub3BlbigpO1xuICBuZXdDYXJkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cblxuIl0sIm5hbWVzIjpbImZvcm1zQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJwcm9maWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZVBvcHVwIiwicXVlcnlTZWxlY3RvckFsbCIsImVkaXRQcm9maWxlQnV0dG9uIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwibmV3Q2FyZFBvcHVwIiwibmV3Q2FyZEJ1dHRvbiIsImxpc3RGb3JDYXJkcyIsImNoYW5nZUF2YXRhclBvcHVwIiwiZWRpdEF2YXRhckJ1dHRvbiIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsIm9wZW5QcmV2aWV3UG9wdXAiLCJ1c2VySWQiLCJvcGVuQ29uZmlybWF0aW9uUmVtb3ZlIiwiYWRkTGlrZSIsImRlbGV0ZUxpa2UiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsIl91c2VySWQiLCJfb3duZXJJZCIsIl93YXN0ZWJhc2tldEJ1dHRvbiIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfb3BlbkNvbmZpcm1hdGlvblJlbW92ZSIsIl9jYXJkSWQiLCJfbGlrZUJ1dHRvbiIsIl9lbGVtZW50IiwiX2xpa2VzIiwic29tZSIsImxpa2UiLCJfaWQiLCJfZGVsZXRlTGlrZSIsImNsYXNzTGlzdCIsIl9hZGRMaWtlIiwiYWRkIiwiX2NhcmRJbWFnZSIsIl9vcGVuUHJldmlld1BvcHVwIiwiX25hbWUiLCJfbGluayIsInRoaXMiLCJuYW1lIiwibGluayIsImxpa2VzIiwib3duZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImtleSIsInZhbHVlIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9saWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInNyYyIsImFsdCIsIl9jaGVja1dhc3RlYmFza2V0QnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiaW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJjb25jYXQiLCJpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVkU3VibWl0QnV0dG9uIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJfdGhpczIiLCJzZXRBdHRyaWJ1dGUiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9wb3B1cENsb3NlQnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9jbG9zZU92ZXJsYXkiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcHJldmlld0ltYWdlIiwiX2ltYWdlQ2FwdGlvbiIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfc3VibWl0QnV0dG9uIiwiX2Zvcm1WYWx1ZXMiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBDb25maXJtYXRpb25SZW1vdmUiLCJoYW5kbGVTdWJtaXRSZW1vdmUiLCJfaGFuZGxlU3VibWl0UmVtb3ZlIiwiY2FyZElkIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySW5mbyIsIl91c2VyQXZhdGFyIiwiaW5mbyIsImF2YXRhciIsImFib3V0IiwiYXBpIiwiQXBpIiwib3B0aW9ucyIsInVybCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImlucHV0RGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJfcmVmMiIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicHJvZmlsZVBvcHVwQ2xhc3MiLCJyZW5kZXJMb2FkaW5nIiwiZWRpdFVzZXIiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJuZXdDYXJkUG9wdXBDbGFzcyIsImFkZE5ld0NhcmQiLCJjaGFuZ2VBdmF0YXJQb3B1cENsYXNzIiwiY2hhbmdlQXZhdGFyIiwiY29uZmlybVJlbW92ZVBvcHVwIiwicmVtb3ZlQ2FyZCIsImRlbGV0ZUNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJjYXJkIiwibGlrZUNsaWNrQ291bnQiLCJyZW5kZXJJdGVtcyIsInByb2ZpbGVWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwibmV3Q2FyZFZhbGlkYXRvciIsImF2YXRhclZhbGlkYXRvciIsInVzZXJHZXREYXRhIiwiZ2V0VXNlckluZm8iLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9