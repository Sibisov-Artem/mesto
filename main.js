(()=>{"use strict";var t={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},e=document.querySelector(".page").querySelector(".content").querySelector(".profile"),n=(document.querySelectorAll(".popup"),document.querySelector(".popup_profile")),r=(e.querySelector(".profile__name"),e.querySelector(".profile__description"),e.querySelector(".profile__edit-btn")),o=(n.querySelector(".popup__form_profile"),n.querySelector(".popup__input_el_name")),i=n.querySelector(".popup__input_el_description"),u=document.querySelector(".popup_mesto"),c=e.querySelector(".profile__add-btn"),a=document.querySelector(".place__grid"),l=(document.querySelector(".popup__form_mesto"),document.querySelector(".popup__input_el_mesto-title"),document.querySelector(".popup__input_el_mesto-url"),document.querySelector(".popup_avatar")),s=document.querySelector(".profile__avatar-wrapper");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function y(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e,n,r,o,i,u,c){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"_checkWastebasketButton",(function(){a._userId!==a._ownerId&&a._wastebasketButton.remove()})),y(this,"_setEventListeners",(function(){a._wastebasketButton.addEventListener("click",(function(){a._openConfirmationRemove(a._cardId,a)})),a._likeButton=a._element.querySelector(".place__like-btn"),a._likeButton.addEventListener("click",(function(){a._likes.some((function(t){return t._id===a._userId}))?a._deleteLikeCard(a._cardId):a._likeCard(a._cardId)})),a._cardImage.addEventListener("click",(function(){a._openPreviewPopup(a._name,a._link)}))})),this._name=e.name,this._link=e.link,this._likes=e.likes,this._likeCard=u,this._deleteLikeCard=c,this._ownerId=e.owner._id,this._cardId=e._id,this._templateSelector=n,this._openPreviewPopup=r,this._openConfirmationRemove=i,this._userId=o,this._element=this._getTemplate(),this._wastebasketButton=this._element.querySelector(".place__wastebasket-btn")}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".place__card").cloneNode(!0)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"likeClick",value:function(t){this._likeButton.classList.toggle("place__like-btn_active"),this._likes=t.likes,this._likeCount.textContent=this._likes.length}},{key:"createCard",value:function(){return this._element.querySelector(".place__title").textContent=this._name,this._cardImage=this._element.querySelector(".place__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeCount=this._element.querySelector(".place__like-count"),this._likeCount.textContent=this._likes.length,this._checkWastebasketButton(),this._setEventListeners(),this._element}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function b(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===h(e)?e:String(e)}var S=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,"_showInputError",(function(t,e){var n=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(r._inputErrorClass),n.textContent=e,n.classList.add(r._errorClass)})),b(this,"_hideInputError",(function(t){var e=r._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(r._inputErrorClass),e.classList.remove(r._errorClass),e.textContent=""})),b(this,"_checkInputValidity",(function(t){t.validity.valid?r._hideInputError(t):r._showInputError(t,t.validationMessage)})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(t){return!t.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._disabledSubmitButton():(r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.removeAttribute("disabled","true"))})),b(this,"_setEventListeners",(function(){r._inputList.forEach((function(t){t.addEventListener("input",(function(){r._checkInputValidity(t),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners(),r._disabledSubmitButton()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var e,n;return e=t,(n=[{key:"resetValidation",value:function(){var t=this;this._disabledSubmitButton(),this._inputList.forEach((function(e){t._hideInputError(e)}))}},{key:"_disabledSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var k=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initialArray=r,this._renderer=o,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._initialArray.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}var P=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._popupCloseButton=this._popup.querySelector(".popup__close-btn")}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closeOverlay",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popupCloseButton.addEventListener("click",(function(){return t.close()})),this._popup.addEventListener("mousedown",this._closeOverlay.bind(this))}}])&&E(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(r);if(o){var n=q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._previewImage=e._popup.querySelector(".popup__image"),e._imageCaption=e._popup.querySelector(".popup__image-caption"),e}return e=u,(n=[{key:"open",value:function(t,e){this._previewImage.src=e,this._previewImage.alt=t,this._imageCaption.textContent=t,L(q(u.prototype),"open",this).call(this)}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},A.apply(this,arguments)}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._handleFormSubmit=e,n._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submitButton=n._form.querySelector(".popup__submit-btn"),n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;A(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){A(V(u.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=!0===t?"Сохранение...":"Сохранить"}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},J.apply(this,arguments)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(r);if(o){var n=H(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._form=n._popup.querySelector(".popup__form"),n._handleSubmitRemove=e,n}return e=u,(n=[{key:"open",value:function(t,e){J(H(u.prototype),"open",this).call(this),this._element=t,this._cardId=e}},{key:"setEventListeners",value:function(){var t=this;J(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmitRemove(t._element,t._cardId),t.close()}))}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(P);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===W(o)?o:String(o)),r)}var o}var $=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e),this._userInfo=document.querySelector(n),this._userAvatar=document.querySelector(r)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,info:this._userInfo.textContent,avatar:this._userAvatar.src}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userInfo.textContent=t.about,this._userAvatar.src=t.avatar}}])&&z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===G(o)?o:String(o)),r)}var o}var Q=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.baseUrl,this.headers=e.headers}var e,n;return e=t,(n=[{key:"getUser",value:function(){return fetch("".concat(this.url,"/users/me"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/cards"),{headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"editUser",value:function(t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:t.name,about:t.info})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"addNewCard",value:function(t){return fetch("".concat(this.url,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"likeCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"deleteLikeCard",value:function(t){return fetch("".concat(this.url,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:this.headers}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}},{key:"changeAvatar",value:function(t){return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:t.avatar})}).then((function(t){return t.ok?t.json():Promise.reject("Что-то пошло не так: ".concat(t.status))}))}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-63",headers:{authorization:"a15016d5-ae9c-4339-845d-3268b7fcaab2","Content-Type":"application/json"}});function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y=null;Promise.all([Q.getUser(),Q.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];tt.setUserInfo(o),Y=o._id,i.forEach((function(t){ct.addItem(ut(t))}))})).catch((function(t){console.log(t)}));var Z=new U(".popup_profile",(function(t){Z.renderLoading(!0),Q.editUser(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return Z.renderLoading(!1)}))}));Z.setEventListeners();var tt=new $(".profile__name",".profile__description",".profile__avatar"),et=new U(".popup_mesto",(function(t){et.renderLoading(!0),Q.addNewCard(t).then((function(t){ct.addItem(ut(t))})).catch((function(t){console.log(t)})).finally((function(){return et.renderLoading(!1)}))}));et.setEventListeners();var nt=new U(".popup_avatar",(function(t){nt.renderLoading(!0),Q.changeAvatar(t).then((function(t){tt.setUserInfo(t)})).catch((function(t){console.log(t)})).finally((function(){return nt.renderLoading(!1)}))}));nt.setEventListeners();var rt=new M(".popup_confirmation-remove",(function(t,e){Q.deleteCard(e,t).then((function(){t.deleteCard()})).catch((function(t){console.log(t)}))}));rt.setEventListeners();var ot=new T(".popup_view");function it(t,e){ot.open(t,e)}function ut(t){var e=new d(t,".card-template",it,Y,(function(t,e){return rt.open(e,t)}),(function(t){Q.likeCard(t).then((function(t){e.likeClick(t)})).catch((function(t){console.log(t)}))}),(function(t){Q.deleteLikeCard(t).then((function(t){e.likeClick(t)})).catch((function(t){console.log(t)}))}));return e.createCard()}ot.setEventListeners();var ct=new k({items:[],renderer:function(t){var e=ut(t);ct.addItem(e)}},a);ct.renderItems();var at=new S(t,n);at.enableValidation();var lt=new S(t,u);lt.enableValidation();var st=new S(t,l);st.enableValidation(),r.addEventListener("click",(function(){Z.open();var t=tt.getUserInfo();o.value=t.name,i.value=t.info,at.resetValidation()})),s.addEventListener("click",(function(){nt.open(),st.resetValidation()})),c.addEventListener("click",(function(){et.open(),lt.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm1hdGlvblJlbW92ZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGZvcm1zQ29uZmlnLFxyXG4gIHBhZ2UsXHJcbiAgY29udGVudCxcclxuICBwcm9maWxlLFxyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBwcm9maWxlTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gIG5ld0NhcmRQb3B1cCxcclxuICBuZXdDYXJkQnV0dG9uLFxyXG4gIGxpc3RGb3JDYXJkcyxcclxuICBuZXdDYXJkRm9ybSxcclxuICBuZXdDYXJkVGl0bGVJbnB1dCxcclxuICBuZXdDYXJkVXJsSW5wdXQsXHJcbiAgZWRpdEF2YXRhckJ1dHRvbixcclxuICBjaGFuZ2VBdmF0YXJQb3B1cCxcclxufVxyXG5cclxuLy/QvdCw0LHQvtGAINC60LDRgNGC0L7Rh9C10Log0LTQu9GPINC+0YLQvtCx0YDQsNC20LXQvdC40Y9cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Ca0LDQvNGH0LDRgtC60LAnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZydcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xyXG4gIH1cclxuXTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8g0L7QsdGK0LXQutGCINC60LvQsNGB0YHQvtCyINC00LvRjyDQv9GA0LjQtdC80LAg0Log0YTRg9C90LrRhtC40LggZW5hYmxlVmFsaWRhdGlvblxyXG5jb25zdCBmb3Jtc0NvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLCAvLyDRhNC+0YDQvNCwXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLCAvL9C/0L7Qu9C1XHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idG4nLCAvL9C60L3QvtC/0LrQsCDRgdC+0YXRgNCw0L3QuNGC0Ywv0YHQvtC30LTQsNGC0YxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idG5fZGlzYWJsZWQnLCAvLyDQvdC10LDQutGC0LjQstC90LDRjyDQutC90L7Qv9C60LBcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsIC8vIGlucHV0INCy0YvQtNC10LvQtdC90LjQtSDQv9C+0LvRjyDQutGA0LDRgdC90L7QuSDQu9C40L3QuNC10LksINC/0L7QutCw0LfRi9Cy0LDRjyDRh9GC0L4g0LXRgdGC0Ywg0L7RiNC40LHQutCwINCy0LDQu9C40LTQsNGG0LjQuFxyXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJyAvLyDQtNC10LvQsNC10Lwg0YLQtdC60YHRgiDQvtGI0LjQsdC60Lgg0LIgc3BhbiDQv9C+0LQgaW5wdXQn0L7QvCDQstC40LTQuNC80YvQvCDQt9CwINGB0YfQtdGCIG9wYWNpdHk6MVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZScpO1xyXG5jb25zdCBjb250ZW50ID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG5jb25zdCBwcm9maWxlID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZScpO1xyXG5jb25zdCBwb3B1cEFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpOyAvLyDQuNGB0L/QvtC70YzQt9GD0Y4g0LTQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QviDQvtCy0LXRgNC70LXRjlxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GMLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfcHJvZmlsZScpOyAvL9C/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7IC8v0LjQvNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7IC8v0L7Qv9C40YHQsNC90LjQtSDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnRuJyk7ICAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZUZvcm0gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3Byb2ZpbGUnKTsgLy/RhNC+0YDQvNCwINC/0L7Qv9Cw0L8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2VsX25hbWUnKTsgLy/Qv9C+0LvQtSDQuNC80LXQvdC4INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfZGVzY3JpcHRpb24nKTsgLy/Qv9C+0LvQtSDQvtC/0LjRgdCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QstC+0L7QuSDQutCw0YDRgtC+0YfQutC4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9tZXN0bycpOyAvL9C/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5jb25zdCBuZXdDYXJkQnV0dG9uID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ0bicpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5cclxuY29uc3QgbGlzdEZvckNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19ncmlkJyk7IC8vINGB0L/QuNGB0L7Quiwg0LLQvdGD0YLRgNGMINC60L7RgtC+0YDQvtCz0L4g0LHRg9C00YPRgiDQstGB0YLQsNCy0LDRgtGMINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgbmV3Q2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fbWVzdG8nKTsgLy/RhNC+0YDQvNCwINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LzQtdGB0YLQsFxyXG5jb25zdCBuZXdDYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZWxfbWVzdG8tdGl0bGUnKTsgLy/Qv9C+0LvQtSDQuNC80LXQvdC4INC80LXRgdGC0LBcclxuY29uc3QgbmV3Q2FyZFVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9lbF9tZXN0by11cmwnKTsgLy/Qv9C+0LvQtSDQsNC00YDQtdGB0LAg0LrQsNGA0YLQuNC90LrQuFxyXG5cclxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYXZhdGFyJyk7IC8v0L/QvtC/0LDQvyDQuNC30LzQtdC90LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItd3JhcHBlcicpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIG9wZW5QcmV2aWV3UG9wdXAsIHVzZXJJZCwgb3BlbkNvbmZpcm1hdGlvblJlbW92ZSwgbGlrZUNhcmQsIGRlbGV0ZUxpa2VDYXJkKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlczsgIC8vINC70LDQudC60Lgg0YEg0YHQtdGA0LLQtdGA0LAg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQtNC70LjQvdGLINC80LDRgdGB0LjQstCwINC70LDQudC60L7QsiAtINC60L7Qu9Cy0LBcclxuICAgIHRoaXMuX2xpa2VDYXJkID0gbGlrZUNhcmQ7XHJcbiAgICB0aGlzLl9kZWxldGVMaWtlQ2FyZCA9IGRlbGV0ZUxpa2VDYXJkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkOyAvL2lkINGA0LDQt9C80LXRgdGC0LjQstGI0LXQs9C+INC60LDRgNGC0L7Rh9C60YMsINCy0LvQsNC00LXQu9C10YYg0LrQsNGA0YLQuNC90LrQuFxyXG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7IC8vaWQg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9vcGVuUHJldmlld1BvcHVwID0gb3BlblByZXZpZXdQb3B1cDsgLy8g0LTQu9GPINC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QutC4XHJcbiAgICB0aGlzLl9vcGVuQ29uZmlybWF0aW9uUmVtb3ZlID0gb3BlbkNvbmZpcm1hdGlvblJlbW92ZTsgIC8vINC00LvRjyDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7IC8vX2lkINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7ICAvL9C60LDRgNGC0L7Rh9C60LBcclxuICAgIHRoaXMuX3dhc3RlYmFza2V0QnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3dhc3RlYmFza2V0LWJ0bicpO1xyXG4gIH1cclxuXHJcbiAgLy/RgdC+0LfQtNCw0L3QuNC1INC60L7Qv9C40LggdGVtcGxhdGVcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2NhcmQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GPINC70LDQudC60L7QsiDQvdCwINC60LDRgNGC0L7Rh9C60Lgg0LTQu9GPIGNyZWF0ZUNhcmRcclxuICBsaWtlQ2xpY2soZGF0YSkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdwbGFjZV9fbGlrZS1idG5fYWN0aXZlJyk7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tXYXN0ZWJhc2tldEJ1dHRvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5fd2FzdGViYXNrZXRCdXR0b24ucmVtb3ZlKClcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICAvLyDQtNC70Y8g0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC40L3QutC4XHJcbiAgICAvLyB0aGlzLl93YXN0ZWJhc2tldEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX193YXN0ZWJhc2tldC1idG4nKTtcclxuICAgIHRoaXMuX3dhc3RlYmFza2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9vcGVuQ29uZmlybWF0aW9uUmVtb3ZlKHRoaXMuX2NhcmRJZCwgdGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL9C/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINC70LDQudC60L7QslxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19saWtlLWJ0bicpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlTGlrZUNhcmQodGhpcy5fY2FyZElkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9saWtlQ2FyZCh0aGlzLl9jYXJkSWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL9C/0YDQvtGB0LzQvtGC0YAg0LrQsNGA0YLQuNC90LrQuCDQsiDQv9C+0L/QsNC/0LVcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fb3BlblByZXZpZXdQb3B1cCh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9GB0L7Qt9C00LDQtdC8INC4INC30LDQv9C+0LvQvdGP0LXQvCDQutCw0YDRgtC+0YfQutGDXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTsgLy8g0L3QsNC30LLQsNC90LjQtSDQutCw0YDRgtC40L3QutC4ICh0aXRsZSlcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlX19pbWFnZScpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7IC8v0YHRgdGL0LvQutCwINC90LAg0LrQsNGA0YLQuNC90LrRg1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7IC8vYWx0INC+0L/QuNGB0LDQvdC40LUg0Log0LrQsNGA0YLQuNC90LrQtVxyXG5cclxuICAgIC8v0YHRh9C10YLRh9C40Log0LvQsNC50LrQvtCyXHJcbiAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2xpa2UtY291bnRcIik7XHJcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7IC8v0LrQvtC7LdCy0L4g0LvQsNC50LrQvtCyINGB0YLQsNCy0LjRgtGB0Y8g0LjQtyDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LAtINC/0L4g0LTQu9C40L3QtSDQvNCw0YHRgdC40LLQsCDQu9Cw0LnQutC+0LJcclxuICAgIHRoaXMuX2NoZWNrV2FzdGViYXNrZXRCdXR0b24oKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1zQ29uZmlnLCBmb3JtRWxlbWVudCkge1xuXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGZvcm1zQ29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBmb3Jtc0NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZm9ybXNDb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBmb3Jtc0NvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGZvcm1zQ29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gIH1cblxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0L7QutCw0LfQsCDQvtGI0LjQsdC60LggKNC60YDQsNGB0L3Ri9C5INGC0LXQutGB0YIg0Lgg0LrRgNCw0YHQvdCw0Y8g0LvQuNC90LjRjyDQsiDQv9C+0LvQtSlcbiAgLy9lcnJvckVsZW1lbnQgLSDRjdGC0L4g0YHQvtC+0YLQstC10YLRgdCy0YPRjtGJ0LjQuSDQutC70LDRgdGBIHNwYW4nYSDQvtC/0YDQtdC00LXQu9C10L3QvdC+0LPQviDQv9C+0LvRj1xuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTsgLy8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQutC70LDRgdGB0LAg0LTQu9GPINC40L3Qv9GD0YLQsCDRgSDQutGA0LDRgdC90L7QuSDQu9C40L3QuNC10LlcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7IC8v0YLQtdC60YHRgiDQtNC70Y8g0YHQv9Cw0L3QsCDQuNC3INGB0YLQsNC90LTQsNGA0YLQvdC+0Lkg0LHRgNCw0YPQt9C10YDQvdC+0Lkg0L7RiNC40LHQutC4XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7IC8vINC00LXQu9Cw0LXQvCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7RiNC40LHQutC4INCy0LjQtNC40LzRi9C8INC00L7QsdCw0LLQu9C10L3QuNC10Lwg0LrQu9Cw0YHRgdGDINC6INC40L3Qv9GD0YLRg1xuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0YHQutGA0YvRgtC40Y8g0L/QvtC70Y8g0YEg0L7RiNC40LHQutC+0Lkg0Lgg0L/QvtC60LDQt9CwINC+0YjQuNCx0LrQuFxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9GA0L7RhdC+0LbQtNC10L3QuNGPINCy0LDQu9C40LTQsNGG0LjQuCDQv9C+0LvRj1xuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNC60Lgg0LjQvdC/0YPRgtC+0LIg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjFxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSlcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINGB0L7RgdGC0L7QvdC40Y8g0LrQvdC+0L/QutC4XG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVkU3VibWl0QnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L7Rh9C40YHRgtC60Lgg0L7RiNC40LHQvtC6INC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC60L3QvtC/0LrQvtC5XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlZFN1Ym1pdEJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINC+0YLQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuCDRgdCw0LHQvNC40YLQsCDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0LBcbiAgX2Rpc2FibGVkU3VibWl0QnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICB9XG5cbiAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0L/QvtC70LXQuSDRhNC+0YDQvFxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZGlzYWJsZWRTdWJtaXRCdXR0b24oKTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgcmVuZGVySXRlbXMsINC60L7RgtC+0YDRi9C5INC+0YLQstC10YfQsNC10YIg0LfQsCDQvtGC0YDQuNGB0L7QstC60YMg0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyLlxyXG4gIC8vINCe0YLRgNC40YHQvtCy0LrQsCDQutCw0LbQtNC+0LPQviDQvtGC0LTQtdC70YzQvdC+0LPQviDRjdC70LXQvNC10L3RgtCwINC00L7Qu9C20L3QsCDQvtGB0YPRidC10YHRgtCy0LvRj9GC0YzRgdGPINGE0YPQvdC60YbQuNC10LkgcmVuZGVyZXJcclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTsgLy8g0LLRi9C30YvQstCw0LXQvCByZW5kZXJlciwg0L/QtdGA0LXQtNCw0LIgaXRlbVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9Ch0L7QtNC10YDQttC40YIg0L/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQgYWRkSXRlbSwg0LrQvtGC0L7RgNGL0Lkg0L/RgNC40L3QuNC80LDQtdGCIERPTS3RjdC70LXQvNC10L3RgiDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LXQs9C+INCyINC60L7QvdGC0LXQudC90LXRgC5cclxuXHJcbiAgLy/QoyDQutC70LDRgdGB0LAgU2VjdGlvbiDQvdC10YIg0YHQstC+0LXQuSDRgNCw0LfQvNC10YLQutC4LiDQntC9INC/0L7Qu9GD0YfQsNC10YIg0YDQsNC30LzQtdGC0LrRgyDRh9C10YDQtdC3INGE0YPQvdC60YbQuNGOLdC60L7Qu9Cx0Y3QuiDQuCDQstGB0YLQsNCy0LvRj9C10YIg0LXRkSDQsiDQutC+0L3RgtC10LnQvdC10YAuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idG4nKTtcblxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0LUg0LzQtdGC0L7QtNGLIG9wZW4g0LggY2xvc2UsINC60L7RgtC+0YDRi9C1INC+0YLQstC10YfQsNGO0YIg0LfQsCDQvtGC0LrRgNGL0YLQuNC1INC4INC30LDQutGA0YvRgtC40LUg0L/QvtC/0LDQv9CwLlxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIC8v0L/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQgX2hhbmRsZUVzY0Nsb3NlLCDQutC+0YLQvtGA0YvQuSDRgdC+0LTQtdGA0LbQuNGCINC70L7Qs9C40LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQutC70LDQstC40YjQtdC5IEVzYy5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8g0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0LrQu9C40LrQvtC8INC90LAg0L7QstC10YDQu9C10LlcbiAgX2Nsb3NlT3ZlcmxheShldnQpIHtcblxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgLy/Qv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVycywg0LrQvtGC0L7RgNGL0Lkg0LTQvtCx0LDQstC70Y/QtdGCINGB0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC40LrQvtC90LrQtSDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsC5cbiAgLy8g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INGC0LDQutC20LUg0LfQsNC60YDRi9Cy0LDQtdGC0YHRjyDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC30LDRgtC10LzQvdGR0L3QvdGD0Y4g0L7QsdC70LDRgdGC0Ywg0LLQvtC60YDRg9CzINGE0L7RgNC80YsuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8v0YHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0LjQutC+0L3QutC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwLlxuXG4gICAgdGhpcy5fcG9wdXBDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7IC8vINC30LDQutGA0YvQu9C4INC/0L7Qv9Cw0L8g0L/QviDQutC90L7Qv9C60LUg0LfQsNC60YDRi9GC0LjRj1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2Nsb3NlT3ZlcmxheS5iaW5kKHRoaXMpKTsgLy8g0LfQsNC60YDRi9C70Lgg0L/QvtC/0LDQvyDRh9C10YDQtdC3INC+0LLQtdGA0LvQtdC5XG4gIH1cblxufVxuXG5cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgdGhpcy5faW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy/QmtGA0L7QvNC1INGB0LXQu9C10LrRgtC+0YDQsCDQv9C+0L/QsNC/0LAg0L/RgNC40L3QuNC80LDQtdGCINCyINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0LrQvtC70LHRjdC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YsuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idG4nKTtcclxuICB9XHJcblxyXG4gIC8v0KHQvtC00LXRgNC20LjRgiDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCBfZ2V0SW5wdXRWYWx1ZXMsINC60L7RgtC+0YDRi9C5INGB0L7QsdC40YDQsNC10YIg0LTQsNC90L3Ri9C1INCy0YHQtdGFINC/0L7Qu9C10Lkg0YTQvtGA0LzRiy5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LIg0Y3RgtC+0YIg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40Y8g0LLRgdC10YUg0L/QvtC70LXQuVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIC8v0J/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBzZXRFdmVudExpc3RlbmVyc1xyXG4gIC8v0J7QvSDQtNC+0LvQttC10L0g0L3QtSDRgtC+0LvRjNC60L4g0LTQvtCx0LDQstC70Y/RgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8sXHJcbiAgLy8g0L3QviDQuCDQtNC+0LHQsNCy0LvRj9GC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRiy5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvL9Cf0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10Lwg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC80LXRgtC+0LQgY2xvc2UsINGC0LDQuiDQutCw0Log0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwINGE0L7RgNC80LAg0LTQvtC70LbQvdCwINC10YnRkSDQuCDRgdCx0YDQsNGB0YvQstCw0YLRjNGB0Y8uXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1hdGlvblJlbW92ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRSZW1vdmUpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0UmVtb3ZlID0gaGFuZGxlU3VibWl0UmVtb3ZlO1xyXG4gIH1cclxuXHJcbiAgb3BlbihlbGVtZW50LCBjYXJkSWQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5fY2FyZElkID0gY2FyZElkXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdFJlbW92ZSh0aGlzLl9lbGVtZW50LCB0aGlzLl9jYXJkSWQpXHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgLyp1c2VySWQqLykge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy5cclxuICAvLyDRgdC+0LHQuNGA0LDQtdGCINC40L3RhNC+0YDQvNCw0YbQuNGOINC40Lcg0L/RgNC+0YTQuNC70Y8g0Lgg0L/QvtC00YHRgtCw0LLQu9GP0LXRgiDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCyINGE0L7RgNC80YMg0L/RgNC4INC+0YLQutGA0YvRgtC40LguXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGluZm86IHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJBdmF0YXIuc3JjLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gIH1cclxuXHJcbiAgLy/QvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC40Lcg0YTQvtGA0LzRiyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0LIg0L/RgNC+0YTQuNC70YwuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMudXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8g0LzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwXHJcbiAgZ2V0VXNlcigpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIC8vINC30LDQv9GA0L7RgSDQutCw0YDRgtC+0YfQtdC6XHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXIoaW5wdXREYXRhKSB7ICAvL9C80LXRgtC+0LTQvtC8IFBBVENIXHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxyXG4gICAgICAgIGFib3V0OiBpbnB1dERhdGEuaW5mb1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoaW5wdXREYXRhKSB7ICAgIC8v0LzQtdGC0L7QtNC+0LwgUE9TVFxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGlucHV0RGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0KfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQujogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6OiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBjaGFuZ2VBdmF0YXIoaW5wdXREYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGlucHV0RGF0YS5hdmF0YXIsIC8vYXZhdGFyVXJsXHJcbiAgICAgIH0pLFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCn0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0Lo6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MycsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJ2ExNTAxNmQ1LWFlOWMtNDMzOS04NDVkLTMyNjhiN2ZjYWFiMicsIC8v0LzQvtC5INGC0L7QutC10L1cclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG4iLCJcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGZvcm1zQ29uZmlnLFxyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbixcclxuICBwcm9maWxlTmFtZUlucHV0LFxyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxyXG4gIG5ld0NhcmRQb3B1cCxcclxuICBuZXdDYXJkQnV0dG9uLFxyXG4gIGxpc3RGb3JDYXJkcyxcclxuICBuZXdDYXJkVGl0bGVJbnB1dCxcclxuICBuZXdDYXJkVXJsSW5wdXQsXHJcbiAgZWRpdEF2YXRhckJ1dHRvbixcclxuICBjaGFuZ2VBdmF0YXJQb3B1cCxcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb25zdGFudHMuanNcIlxyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybWF0aW9uUmVtb3ZlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIlxyXG5cclxubGV0IHVzZXJJZCA9IG51bGw7XHJcblxyXG5cclxuLy/Qv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QsNGPINC30LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSDRgdC10YDQstC10YDQsFxyXG4vL9Cy0L3QuNC60L3Rg9GC0YwsINGD0LPQu9GD0LHQuNGC0YzRgdGPINCyINC/0YDQvtGG0LXRgdGBLCDQutCw0Log0L7QvdC+INC/0L7QtNGC0Y/Qs9C40LLQsNC10YLRgdGPLi4uXHJcblxyXG4vL9C40YHQv9C+0LvRjNC30YPQtdC8IFByb21pc2UuYWxsINGH0YLQvtCx0Ysg0LTQvtC20LTQsNGC0YzRgdGPINCy0YvQv9C+0LvQvdC10L3QuNGPINC+0LHQvtC40YUg0LfQsNC/0YDQvtGB0L7QsiAtIGdldFVzZXIg0LggZ2V0SW5pdGlhbENhcmRzIClcclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VyKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pLnRoZW4oKFtkYXRhLCBjYXJkc10pID0+IHtcclxuXHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgdXNlcklkID0gZGF0YS5faWQ7XHJcbiAgY2FyZHMuZm9yRWFjaChcclxuICAgIChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpXHJcbiAgICB9KTtcclxufSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgfSk7XHJcblxyXG5cclxuLy8g0L/QvtC/0LDQvyDQv9GA0L7RhNC40LvRjyAtINGE0L7RgNC80LAg0L/RgNC+0YTQuNC70Y8gLSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC/0YDQvtGE0LjQu9GPINGBINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LXQvCDQvdCwINGB0LXRgNCy0LXRgFxyXG4vLyDQuCDQvtGC0L7QsdGA0LDQttC10L3QuNC10Lwg0L3QsCDRgdGC0YDQsNC90LjRhtC1INCyINGA0LDQt9C00LXQu9C1INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVQb3B1cENsYXNzID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF9wcm9maWxlJywgKGlucHV0RGF0YSkgPT4ge1xyXG4gIHByb2ZpbGVQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpLmVkaXRVc2VyKGlucHV0RGF0YSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHByb2ZpbGVQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcoZmFsc2UpKVxyXG59KTtcclxuXHJcbnByb2ZpbGVQb3B1cENsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8vINCy0LXRiNCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4ICjQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCwgcHJldmVudERlZmF1bHQsINGB0LHRgNC+0YEg0YTQvtGA0LzRiyDQv9GA0Lgg0LfQsNC60YDRi9GC0LjQuClcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKCcucHJvZmlsZV9fbmFtZScsICcucHJvZmlsZV9fZGVzY3JpcHRpb24nLCAnLnByb2ZpbGVfX2F2YXRhcicpO1xyXG5cclxuY29uc3QgbmV3Q2FyZFBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX21lc3RvJywgKGlucHV0RGF0YSkgPT4ge1xyXG4gIG5ld0NhcmRQb3B1cENsYXNzLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpLmFkZE5ld0NhcmQoaW5wdXREYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhKSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LLRi9Cy0LXQtNC10Lwg0L7RiNC40LHQutGDINCyINC60L7QvdGB0L7Qu9GMXHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gbmV3Q2FyZFBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXHJcbn0pO1xyXG5uZXdDYXJkUG9wdXBDbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuY29uc3QgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcyA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYXZhdGFyJywgKGlucHV0RGF0YSkgPT4ge1xyXG4gIGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICBhcGkuY2hhbmdlQXZhdGFyKGlucHV0RGF0YSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MucmVuZGVyTG9hZGluZyhmYWxzZSkpXHJcbn0pO1xyXG5cclxuY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g0L/QvtC/0LDQvyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LggLS0tLS0tLS0tLS0tLS0vL1xyXG5cclxuY29uc3QgY29uZmlybVJlbW92ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybWF0aW9uUmVtb3ZlKCcucG9wdXBfY29uZmlybWF0aW9uLXJlbW92ZScsIChyZW1vdmVDYXJkLCBjYXJkSWQpID0+IHtcclxuICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQsIHJlbW92ZUNhcmQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHJlbW92ZUNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vINCy0YvQstC10LTQtdC8INC+0YjQuNCx0LrRgyDQsiDQutC+0L3RgdC+0LvRjFxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuY29uZmlybVJlbW92ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Qv9C+0L/QsNC/INC/0YDQvtGB0LzQvtGC0YDQsCDQutCw0YDRgtC40L3QvtC6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF92aWV3Jyk7IC8v0L/QvtC/0LDQvyDQv9GA0L7RgdC80L7RgtGA0LAg0LrQsNGA0YLQuNC90LrQuFxyXG5cclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5QcmV2aWV3UG9wdXAobmFtZSwgbGluaykge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn1cclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS3RgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60LggKNGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAgQ2FyZCDQsiDRgdC+0YfQtdGC0LDQvdC40Lgg0YEgYXBpICkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vaWQg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC30LDRgtC+0LvQutCw0YLRjCDQsiBDYXJkINC00LvRjyDQvtC/0YDQtdC00LXQu9C10L3QuNGPINGB0LLQvtC40YUg0LrQsNGA0YIg0L7RgiDQvdC1INGB0LLQvtC40YVcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCAnLmNhcmQtdGVtcGxhdGUnLCBvcGVuUHJldmlld1BvcHVwLCB1c2VySWQsXHJcbiAgICAoY2FyZElkLCBlbGVtZW50KSA9PiBjb25maXJtUmVtb3ZlUG9wdXAub3BlbihlbGVtZW50LCBjYXJkSWQpLFxyXG4gICAgKGNhcmRJZCkgPT4ge1xyXG4gICAgICBhcGkubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmxpa2VDbGljayhkYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAoY2FyZElkKSA9PiB7XHJcbiAgICAgIGFwaS5kZWxldGVMaWtlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmxpa2VDbGljayhkYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG4vL9GD0LHQuNGA0LDQtdC8INC30LDQs9C+0YLQvtCy0LvQtdC90L3Ri9C5INGB0L/QuNGB0L7QuiDQutCw0YDRgtC+0YfQtdC6IGluaXRpYWxDYXJkcyDQuCDQvtGB0YLQsNCy0LvRj9C10Lwg0L/Rg9GB0YLQvtC5INC80LDRgdGB0LjQsiDQvtCx0YrQtdC60YLQvtCyIC0gaXRlbXM6IFtdXHJcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICBpdGVtczogW10sXHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmQpO1xyXG4gIH1cclxufSwgbGlzdEZvckNhcmRzXHJcbik7XHJcblxyXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0t0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40Lgg0Log0YTQvtGA0LzQtSDQv9GA0L7RhNC40LvRjy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8tLS0tLS0tLS0tLS0tLS0t0YfQtdGA0LXQtyDRgdC+0LfQtNCw0L3QuNC1INGN0LrQt9C10LzQv9C70Y/RgNCwINC60LvQsNGB0YHQsCBGb3JtVmFsaWRhdG9yLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IHByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgcHJvZmlsZVBvcHVwKTtcclxucHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLy0tLS0tLS0tLS3Qv9C+0LTQutC70Y7Rh9C10L3QuNC1INCy0LDQu9C40LTQsNGG0LjQuCDQuiDRhNC+0YDQvNC1INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4LS0tLS0tLS0tLS0tLS0tLS1cclxuLy8tLS0tLS0tLS0tLS0tINGH0LXRgNC10Lcg0YHQvtC30LTQsNC90LjQtSDRjdC60LfQtdC80L/Qu9GP0YDQsCDQutC70LDRgdGB0LAgRm9ybVZhbGlkYXRvci0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IG5ld0NhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgbmV3Q2FyZFBvcHVwKTtcclxubmV3Q2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLdC/0L7QtNC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4INC6INGE0L7RgNC80LUg0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgtLS0tLS0tLS0tLS0tLVxyXG5jb25zdCBhdmF0YXJWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3Jtc0NvbmZpZywgY2hhbmdlQXZhdGFyUG9wdXApO1xyXG5hdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0YHQu9GD0YjQsNGC0LXQu9C4LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/INC/0YDQvtGE0LjQu9GPINC/0L4g0LrQvdC+0L/QutC1INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcHJvZmlsZVBvcHVwQ2xhc3Mub3BlbigpO1xyXG4gIGNvbnN0IHVzZXJHZXREYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlTmFtZUlucHV0LnZhbHVlID0gdXNlckdldERhdGEubmFtZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJHZXREYXRhLmluZm87XHJcbiAgcHJvZmlsZVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufVxyXG4pO1xyXG5cclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwINC/0YDQvtGE0LjQu9GPXHJcbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5vcGVuKCk7XHJcbiAgYXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbi8v0YHQu9GD0YjQsNGC0LXQu9GMINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQvyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQv9C+INC60L3QvtC/0LrQtVxyXG5uZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIG5ld0NhcmRQb3B1cENsYXNzLm9wZW4oKTtcclxuICBuZXdDYXJkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcblxyXG4iXSwibmFtZXMiOlsiZm9ybXNDb25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInByb2ZpbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlUG9wdXAiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWRpdFByb2ZpbGVCdXR0b24iLCJwcm9maWxlTmFtZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJuZXdDYXJkUG9wdXAiLCJuZXdDYXJkQnV0dG9uIiwibGlzdEZvckNhcmRzIiwiY2hhbmdlQXZhdGFyUG9wdXAiLCJlZGl0QXZhdGFyQnV0dG9uIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwib3BlblByZXZpZXdQb3B1cCIsInVzZXJJZCIsIm9wZW5Db25maXJtYXRpb25SZW1vdmUiLCJsaWtlQ2FyZCIsImRlbGV0ZUxpa2VDYXJkIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZGVmaW5lUHJvcGVydHkiLCJfdXNlcklkIiwiX293bmVySWQiLCJfd2FzdGViYXNrZXRCdXR0b24iLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX29wZW5Db25maXJtYXRpb25SZW1vdmUiLCJfY2FyZElkIiwiX2xpa2VCdXR0b24iLCJfZWxlbWVudCIsIl9saWtlcyIsInNvbWUiLCJsaWtlIiwiX2lkIiwiX2RlbGV0ZUxpa2VDYXJkIiwiX2xpa2VDYXJkIiwiX2NhcmRJbWFnZSIsIl9vcGVuUHJldmlld1BvcHVwIiwiX25hbWUiLCJfbGluayIsInRoaXMiLCJuYW1lIiwibGluayIsImxpa2VzIiwib3duZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImtleSIsInZhbHVlIiwiY29udGVudCIsImNsb25lTm9kZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9saWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInNyYyIsImFsdCIsIl9jaGVja1dhc3RlYmFza2V0QnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiaW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9pbnB1dExpc3QiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVkU3VibWl0QnV0dG9uIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsInJlbW92ZUF0dHJpYnV0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJfdGhpczIiLCJzZXRBdHRyaWJ1dGUiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9wb3B1cENsb3NlQnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9jbG9zZU92ZXJsYXkiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImNhbGwiLCJfcHJldmlld0ltYWdlIiwiX2ltYWdlQ2FwdGlvbiIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfc3VibWl0QnV0dG9uIiwiX2Zvcm1WYWx1ZXMiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiaXNMb2FkaW5nIiwiUG9wdXBDb25maXJtYXRpb25SZW1vdmUiLCJoYW5kbGVTdWJtaXRSZW1vdmUiLCJfaGFuZGxlU3VibWl0UmVtb3ZlIiwiY2FyZElkIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySW5mbyIsIl91c2VyQXZhdGFyIiwiaW5mbyIsImF2YXRhciIsImFib3V0IiwiYXBpIiwiQXBpIiwib3B0aW9ucyIsInVybCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImlucHV0RGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJfcmVmMiIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicHJvZmlsZVBvcHVwQ2xhc3MiLCJyZW5kZXJMb2FkaW5nIiwiZWRpdFVzZXIiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJuZXdDYXJkUG9wdXBDbGFzcyIsImFkZE5ld0NhcmQiLCJjaGFuZ2VBdmF0YXJQb3B1cENsYXNzIiwiY2hhbmdlQXZhdGFyIiwiY29uZmlybVJlbW92ZVBvcHVwIiwicmVtb3ZlQ2FyZCIsImRlbGV0ZUNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJjYXJkIiwibGlrZUNsaWNrIiwicmVuZGVySXRlbXMiLCJwcm9maWxlVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsIm5ld0NhcmRWYWxpZGF0b3IiLCJhdmF0YXJWYWxpZGF0b3IiLCJ1c2VyR2V0RGF0YSIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==